{"version":3,"sources":["utility/local/authStorage.js","api/auth.js","contexts/AuthContext.js","hooks/useAuth.js","hooks/useResource.js","api/util.js","api/issues.js","api/projects.js","contexts/ProjectsContext.js","utility/route/PrivateRoute.js","components/display/Button/LinkButton.js","components/display/NavBar/NavBar.js","logo.svg","components/app/Navigation/TopNavBar.js","components/form/inputs/TextInput/TextInput.js","utility/schema/validation.js","components/form/LoginForm.js","pages/LoginPage/LoginPage.js","components/form/SignupForm.js","pages/SignupPage/SignupPage.js","pages/Dashboard/Dashboard.js","components/app/Navigation/ProjectsNavBar.js","components/display/List/ListItem.js","components/display/List/ListItemGroup.js","components/display/List/List.js","hooks/useFilteredItems.js","hooks/useGroupedItems.js","components/app/ProjectList/ProjectListOverviewCard.js","components/app/ProjectList/ProjectList.js","components/form/NewProjectForm.js","contexts/NotificationBannerContext.js","hooks/useNotificationBanner.js","pages/NewProjectPage/NewProjectPage.js","components/form/inputs/Dropzone/Dropzone.js","components/form/inputs/Upload/Upload.js","components/form/inputs/SelectInput/SelectInput.js","components/form/NewIssueForm.js","pages/NewIssuePage/NewIssuePage.js","components/app/Navigation/IssueNavBar.js","components/app/IssueList/IssueListButtonToolbar.js","components/app/IssueList/IssueListOverviewCard.js","components/app/IssueList/IssueList.js","components/app/IssueFilterControl/IssueFilterControl.js","components/hocs/withEdit/withEdit.js","utility/strings.js","images/edit-icon-png-small.png","components/app/CommentList/CommentList.js","components/display/DialogBox/DialogBox.js","hooks/useDialogBox.js","components/app/Navigation/IssueDetailNavBar.js","components/app/Attachments/Attachments.js","components/form/EditIssueDetailsForm.js","pages/IssueDetails/IssueDetails.js","utility/local/paramStorage.js","hooks/useListParams.js","components/form/SelectForm.js","components/form/InlineSearch.js","utility/CollabInfo.js","utility/log.js","pages/IssueLog/IssueLog.js","pages/IssueDashboard/IssueDashboard.js","pages/ProjectDetails/ProjectDetails.js","pages/ProjectDashboard/ProjectDashboard.js","hooks/useProjects.js","components/app/UserInfo/UserInfo.js","components/form/ChangePasswordForm.js","pages/UserAccountPage/UserAccountPage.js","components/display/NotificationBanner/NotificationBanner.js","IssueTracker.js","App.js","reportWebVitals.js","index.js"],"names":["authTokenKey","auth","isAuthenticated","login","credentials","cb","axios","post","userName","password","response","token","data","localStorage","setItem","user","message","tokenLogin","getItem","console","log","get","headers","signup","logout","removeItem","changePassword","currentPassword","newPassword","patch","authContext","createContext","ProvideAuth","props","useState","setUser","isLoading","setIsLoading","error","setError","useEffect","loginWithToken","a","authApi","userInfo","err","useProvideAuth","Provider","value","children","useAuth","useContext","useResource","path","authToken","forkedPaths","isError","resource","setResource","refresh","setRefresh","getResource","prev","fetchResource","length","promises","forEach","fork","push","Promise","all","responseData","map","res","filename","authHeader","projectId","issueInfo","issue","issueId","update","delete","assigneeId","status","comment","result","commentId","config","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","attachmentId","issuesApi","createIssue","updateIssue","deleteIssue","assignIssue","advanceIssue","addComment","updateComment","deleteComment","createAttachment","getAttachment","deleteAttachment","projectInfo","project","collaboratorId","projectsApi","createProject","updateProject","deleteProject","addProjectCollaborator","removeProjectCollaborator","projectsContext","ProvideProjects","projects","setProjects","handleDeleteProject","slice","index","findIndex","elem","id","splice","handleAddProject","newProject","issues","handleEditProject","updates","handleAddCollaborator","values","handleCreateIssue","issueDetails","newIssue","projectIdx","proj","Number","handleDeleteIssue","issueIdx","handleEditIssue","issueUpdates","Object","keys","updatedIssue","handleAssignIssue","handleStartIssue","handleCloseIssue","handleIssueAttachmentRequest","addIssueAttachmentHandles","attachmentHandles","currHandles","concat","useProvideProjects","PrivateRoute","component","Component","render","to","pathname","state","from","location","LinkButton","text","Button","as","Link","variant","NavBar","title","logo","Navbar","className","Brand","href","alt","src","Toggle","Collapse","TopNavBar","bg","expand","Nav","onClick","InputComponent","FormControl","name","type","TextInput","htmlFor","label","SignupSchema","Yup","shape","firstName","min","max","required","lastName","email","confirmPassword","oneOf","LoginSchema","ChangePasswordSchema","confirmNewPassword","ProjectSchema","description","IssueSchema","LoginForm","onSubmit","initialValues","validationSchema","setSubmitting","isSubmitting","Row","disabled","LoginPage","fromState","Container","fluid","Col","xs","sm","md","lg","SignupForm","form","autoComplete","SignupPage","redirect","setRedirect","xl","Dashboard","ProjectsNavBar","ListItem","item","ListItemGroup","items","collapse","setCollapse","idx","List","listItems","groupKey","groupValues","orderBy","filter","searchText","searchKeys","filteredItems","allowedValues","mapValues","obj","selectedFilters","pickBy","isAllowed","key","includes","toLowerCase","useFilteredItems","groupedItems","groupBy","useGroupedItems","listComponentArray","groupComponents","reverse","keyValue","listComponents","ProjectListOverviewCard","onDelete","onEdit","onAddCollaborator","Card","Body","Title","size","Text","ButtonGroup","ProjectList","projectList","NewProjectForm","notificationBannerContext","ProvideNotificationBanner","notificationBanner","setText","show","setShow","showNotificationWithText","setTimeout","useProvideNotificationBanner","useNotificationBanner","NewProjectPage","createNewProject","Dropzone","onFilesAdded","highlight","setHighlight","fileInputRef","useRef","fileListToArray","fileList","array","i","onDragOver","e","preventDefault","onDragLeave","onDrop","files","dataTransfer","current","click","style","cursor","ref","multiple","onChange","target","initialUpload","isUploading","progress","successful","Upload","sendRequest","onClose","setUploadCallbacks","upload","setUpload","uploadCallbacks","uploadFiles","file","callbacks","FormData","append","progressCb","then","responses","successCb","catch","failureCb","onComplete","copy","percentage","uploading","renderProgress","uploadProgress","ProgressBar","now","opacity","updatedFiles","fileIndex","display","SelectInput","NewIssueForm","collaborators","category","priority","setFieldValue","submitForm","resetForm","val","NewIssuePage","match","params","addIssueAttachment","attachmentData","onCreateAttachmentRequest","addNewIssue","attachments","createAnother","onAddAttachment","IssueNavBar","IssueListButtonToolbar","onAssign","onStart","ButtonToolbar","DropdownButton","Dropdown","Item","IssueListOverviewCard","Subtitle","assignee","groups","IssueList","issueList","Checkmark","checked","IssueFilterControl","isOpen","setOpen","setAllFiltersTo","newValue","filterKeys","filters","filterKey","onSelect","checkAllFilters","uncheckAllFilters","isCleared","cleared","handleToggleFilterKey","group","eventKey","order","menuAlign","split","filterValue","newValues","onToggle","open","event","meta","source","Header","bug","feature","task","other","ItemText","critical","high","regular","low","trivial","unassigned","inprogress","resolved","closed","withEdit","WrappedComponent","isEditing","editing","setEditing","setValue","inputRef","focus","handleKeyPress","handleSubmit","handleChange","onBlur","defaultValue","rows","cols","onKeyPress","options","opt","removeTimezoneFromDateString","dateString","string","searchTerm","n","indexOf","getNthIndexOf","commentBoxStyle","width","height","margin","CustomToggle","React","forwardRef","editIcon","CommentList","editId","setEditId","EditArea","showEditArea","handleEditComment","comments","creator","Date","created_at","toString","evt","Menu","body","DialogBox","heading","closeButtonText","submitButtonText","renderData","formId","Modal","onHide","closeButton","Footer","useDialogBox","visible","setVisible","setData","hide","RenderDialogBox","nodeList","input","extractInputValues","childNodes","IssueDetailNavBar","linkUrl","sticky","Attachments","setUploading","attachment","download","renderAttachmentItems","onCreate","EditIssueDetailsForm","initialTitle","initialDescription","initialCategory","initialPriority","IssueDetails","getAttachments","setComments","editMode","setEditMode","showDeleteCommentDialogBox","DeleteCommentDialogBox","EditSelect","handleAddComment","commentData","newComment","document","querySelector","handleDeleteComment","commentIdx","advanceButtonText","history","goBack","hidden","opened_at","closed_at","Form","Group","controlId","Control","placeholder","paramKey","setLocalParamStorage","JSON","stringify","useListParams","initialParams","listParams","setListParams","store","parse","param","SelectForm","fieldName","selectItems","itemKey","selectOptions","InlineSearch","inline","noValidate","firstChild","CollabInfo","collabArray","this","collabId","find","collab","issueLogItemText","logAction","logCreatedBy","logDate","logDataOld","logDataNew","changes","oldData","newData","_oldData","_newData","getChanges","changedKeys","IssueLog","date","createdAt","createdBy","action","initialFilterValue","IssueDashboard","showDeleteIssueDialogBox","DeleteIssueDialogBox","showAssignIssueDialogBox","AssignIssueDialogBox","showStartIssueDialogBox","StartIssueDialogBox","showCloseIssueDialogBox","CloseIssueDialogBox","search","changeListParams","exact","routerProps","iss","urlParts","url","pop","join","ProjectDetails","EditBox","handleEdit","textAlign","justifyContent","collabInfo","collaborator","logCollaborator","logData","projectLogItemText","ProjectDashboard","showDeleteProjectDialogBox","DeleteDialogBox","showAddCollaboratorDialogBox","AddCollaboratorDialogBox","UserInfo","s","ChangePasswordForm","UserAccountPage","handlePasswordChange","NotificationBanner","banner","IssueTracker","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c0e674f5.chunk.js","sourcesContent":["const authTokenKey = \"track_app_auth_token\";\n\nexport function setLocalAuthToken(token) {\n    localStorage.setItem(authTokenKey, token);\n}\n\nexport function getLocalAuthToken() {\n    return localStorage.getItem(authTokenKey);\n}\n\nexport function removeLocalAuthToken() {\n    localStorage.removeItem(authTokenKey);\n}","import axios from 'axios';\nimport { setLocalAuthToken, getLocalAuthToken, removeLocalAuthToken } from '../utility/local/authStorage';\n\nconst auth = {\n    isAuthenticated: false, \n    async login(credentials, cb) {\n        try{\n            const response = await axios.post(\n                '/api/auth/login', \n                { \n                    userName: credentials.userName, \n                    password: credentials.password \n                }\n            );\n            auth.isAuthenticated = true;\n            setLocalAuthToken(response.data.token);\n            cb({ ...response.data.user, token: response.data.token }, null);\n            return response.data;\n        } catch(err) {\n            auth.isAuthenticated = false;\n            cb(null, { message: err.response.data.message });\n        }\n    },\n    async tokenLogin(cb) {\n        const token = getLocalAuthToken();\n\n        if(!token) {\n            auth.isAuthenticated = false;\n            console.log(\"Token not found\");\n            cb(null);\n            return;\n        }\n\n        console.log(\"Token found\");\n        let response = null;\n        try {\n            response = await axios.get(\n                '/api/user/login',\n                { headers: { 'Authorization': `Bearer ${token}` } }\n            );\n            auth.isAuthenticated = true;\n            cb({ ...response.data, token }, null);\n        } catch(err) {\n            auth.isAuthenticated = false;\n            cb(null, { message: err.message });\n        }\n\n        return response;\n    },\n    async signup(user, cb) {\n        try {\n            const response = await axios.post(\n                '/api/auth/register',\n                { ...user }\n            );\n            console.log(response);\n            cb(response.data, null);\n            return response.data;\n        } catch(err) {\n            cb(null, { message: err.message });\n        }\n    },\n    async logout(cb) {\n        auth.isAuthenticated = false;\n        removeLocalAuthToken();\n        cb();\n    }, \n    async changePassword(currentPassword, newPassword, token, cb) {\n        try {\n            console.log(\"authApi\", { currentPassword, newPassword });\n            const response = await axios.patch(\n                '/api/user/changePassword',\n                { currentPassword, newPassword },\n                { headers: { 'Authorization': `Bearer ${token}` } }\n            );\n            console.log(response);\n            cb(null);\n            return response.data;\n        } catch(err) {\n            cb({ message: err.response.data.message });\n        }\n    }\n}\n\nexport default auth;","import React, { useState, useEffect, createContext } from 'react';\nimport authApi from '../api/auth';\n\nexport const authContext = createContext({ });\n\nexport default function ProvideAuth(props) {\n    const auth = useProvideAuth();\n\n    return (\n        <authContext.Provider value={auth}>\n            {props.children}\n        </authContext.Provider>\n    )\n}\n\nfunction useProvideAuth() {\n    const [user, setUser] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const loginWithToken = async () => {\n            await authApi.tokenLogin((user) => {\n                user ? console.log(\"Logged in as \" + user.userName) : console.log(\"Not logged in\");\n                setUser(user);\n                setError(null);\n                setIsLoading(false);\n            });\n        }\n        console.log(\"Logging in with token\");\n        setIsLoading(true);\n        loginWithToken();\n\n    }, []);\n\n    const signup = (userInfo, cb) => {\n        return authApi.signup(userInfo, (data) => {\n            console.log(data);\n            cb(data);\n        })\n    }\n\n    const login = (credentials, cb) => {\n        console.log(\"logging in\");\n        setIsLoading(true);\n        authApi.login(credentials, (user, error) => {\n            if(error) setError(error);\n            else {\n                setUser(user);\n                setError(null);\n                cb(user);\n            }\n        })\n        setIsLoading(false);\n    }\n\n    const logout = cb => {\n        return authApi.logout(() => {\n            setUser(null);\n            setError(null);\n            cb && cb();\n        });\n    }\n\n    const changePassword = (currentPassword, newPassword, cb) => {\n        return authApi.changePassword(currentPassword, newPassword, user.token, (err) => {\n            if(err) {\n                setError(err);\n                cb(err);\n            } else {\n                setError(null);\n                cb(null);\n            }\n        });\n    }\n\n    return {\n        user,\n        isLoading,\n        error,\n        signup,\n        login, \n        logout,\n        changePassword\n    }\n}","import { useContext } from \"react\";\nimport { authContext } from \"../contexts/AuthContext\";\n\nexport default function useAuth() {\n    return useContext(authContext);\n}","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction useResource(path, authToken, forkedPaths = null) {\n    const [resource, setResource] = useState({\n        data: [],\n        isLoading: false,\n        isError: false\n    });\n\n    const [refresh, setRefresh] = useState(false);\n\n    const getResource = () => setRefresh(prev => !prev);\n\n    useEffect(() => {\n\n        const fetchResource = async () => {\n            setResource({ data: [], isLoading: true, isError: false });\n            try {\n                const headers = authToken ? { 'Authorization': `Bearer ${authToken}` } : {}\n                let response;\n                if(forkedPaths) {\n                    if(forkedPaths.length === 0) return setResource({ data: [], isLoading: false, isError: false });\n                    \n                    const promises = [];\n                    forkedPaths.forEach(fork => {\n                        promises.push(axios.get(path + \"/\" + fork, { headers }));\n                    });\n\n                    response = await Promise.all(promises);\n\n                    const responseData = response.map(res => ({\n                        filename: res.headers['content-filename'],\n                        data: res.data\n                    }));\n\n                    setResource({ data: responseData, isLoading: false, isError: false });\n                } else {\n                    response = await axios.get(path, { headers });\n                    setResource({ data: response.data, isLoading: false, isError: false });\n                }\n\n            } catch(err) {\n                console.log(err);\n                setResource({ data: err, isLoading: false, isError: true })\n            }\n        }\n\n        fetchResource();\n\n    }, [path, authToken, refresh]);\n\n    return [resource, setResource, getResource];\n}\n\nexport default useResource;","export function authHeader(authToken) {\n    return { 'Authorization': `Bearer ${authToken}`}\n}","import axios from 'axios';\nimport { authHeader } from './util';\n\nasync function createIssue(projectId, issueInfo, authToken) {\n    try {\n        const headers = authHeader(authToken)\n        const issue = await axios.post(`/api/projects/${projectId}/issues`, issueInfo, { headers });\n        return issue.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function updateIssue(projectId, issueId, update, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const issue = await axios.patch(`/api/projects/${projectId}/issues/${issueId}`, update, { headers });\n        return issue.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function deleteIssue(projectId, issueId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const issue = await axios.delete(`/api/projects/${projectId}/issues/${issueId}`, { headers });\n        return issue.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function assignIssue(projectId, issueId, assigneeId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const issue = await axios.patch(\n            `/api/projects/${projectId}/issues/${issueId}/assign`,\n            { assigneeId },\n            { headers }\n        )\n        return issue.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function advanceIssue(projectId, issueId, status, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const issue = await axios.patch(\n            `/api/projects/${projectId}/issues/${issueId}/advance`,\n            { status },\n            { headers }\n        )\n        return issue.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function addComment(projectId, issueId, comment, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const result = await axios.post(\n            `/api/projects/${projectId}/issues/${issueId}/comments`,\n            { comment },\n            { headers }\n        )\n        console.log(result);\n        return result.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function updateComment(projectId, issueId, commentId, comment, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const result = await axios.patch(\n            `/api/projects/${projectId}/issues/${issueId}/comments/${commentId}`,\n            { comment },\n            { headers }\n        )\n        console.log(result);\n        return result.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function deleteComment(projectId, issueId, commentId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const result = await axios.delete(\n            `/api/projects/${projectId}/issues/${issueId}/comments/${commentId}`,\n            { headers }\n        )\n        console.log(result);\n        return result.data;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\n// This function returns a promise instead of waiting for it to resolve. \n// The callback is passed the current percentage of the upload\nasync function createAttachment(projectId, issueId, data, authToken, cb) {\n    try {\n        const headers = authHeader(authToken);\n        let config = {\n            onUploadProgress: function(progressEvent) {\n                let percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\n                cb && (typeof cb === \"function\") && cb(percentCompleted);\n            },\n            headers\n        };\n        return axios.post(\n            `/api/projects/${projectId}/issues/${issueId}/attachments`,\n            data,\n            config\n        )\n    } catch(err) {\n        console.log(err);\n\n    }\n}\n\nasync function getAttachment(projectId, issueId, attachmentId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        return axios.get(\n            `/api/projects/${projectId}/issues/${issueId}/attachments/${attachmentId}`,\n            { headers }            \n        );\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function deleteAttachment(projectId, issueId, attachmentId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const result = axios.delete(\n            `/api/projects/${projectId}/issues/${issueId}/attachments/${attachmentId}`,\n            { headers }\n        )\n        console.log(result);\n        return result;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nconst issuesApi = {\n    createIssue, updateIssue, deleteIssue, assignIssue, advanceIssue, \n    addComment, updateComment, deleteComment, \n    createAttachment, getAttachment, deleteAttachment\n}\n\nexport default issuesApi;","import axios from 'axios';\nimport { authHeader } from './util';\n\nasync function createProject(projectInfo, authToken) {\n    try {\n        const headers = authHeader(authToken)\n        const project = await axios.post(\"/api/projects\", projectInfo, { headers });\n        return project;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function updateProject(projectId, authToken, update) {\n    try {\n        const headers = authHeader(authToken);\n        const project = await axios.patch(`/api/projects/${projectId}`, update, { headers });\n        return project;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function deleteProject(projectId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const project = await axios.delete(`/api/projects/${projectId}`, { headers });\n        return project;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function addProjectCollaborator(projectId, collaboratorId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const result = await axios.post(`/api/projects/${projectId}/collaborators`, { collaboratorId }, { headers })\n        return result;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nasync function removeProjectCollaborator(projectId, collaboratorId, authToken) {\n    try {\n        const headers = authHeader(authToken);\n        const result = await axios.delete(`/api/projects/${projectId}/collaborators`, { collaboratorId }, { headers })\n        return result;\n    } catch(err) {\n        console.log(err);\n    }\n}\n\nconst projectsApi = {\n    createProject, updateProject, deleteProject, addProjectCollaborator, removeProjectCollaborator\n}\n\nexport default projectsApi;","import React, { createContext } from 'react';\n\nimport useAuth from '../hooks/useAuth';\nimport useResource from '../hooks/useResource';\nimport issuesApi from '../api/issues';\nimport projectsApi from '../api/projects';\n\nexport const projectsContext = createContext({ });\n\nexport default function ProvideProjects(props) {\n    const projects = useProvideProjects();\n\n    return (\n        <projectsContext.Provider value={projects}>\n            {props.children}\n        </projectsContext.Provider>\n    );\n}\n\nfunction useProvideProjects() {\n    const auth = useAuth();\n    const [projects, setProjects] = useResource('/api/projects', auth.user ? auth.user.token : null);\n\n    const handleDeleteProject = async ({ data }) => {\n        await projectsApi.deleteProject(data.projectId, auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const index = projects.findIndex(elem => elem.id === data.projectId);\n            projects.splice(index, 1);\n            return { ...prev, data: projects };\n        });\n    }\n\n    const handleAddProject = async (newProject) => {\n        const project = await projectsApi.createProject(newProject, auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            projects.push({ ...project.data, issues: [] }); // TODO: Modify backend to init empty array instead of here\n            return { ...prev, data: projects };\n        });\n    }\n\n    const handleEditProject = async (projectId, updates) => {\n\n    }\n\n    const handleAddCollaborator = async ({ data, values }) => {\n        await projectsApi.addProjectCollaborator(data.projectId, values.collaboratorId, auth.user.token);\n    }\n\n    const handleCreateIssue = async (projectId, issueDetails) => {\n        const newIssue = await issuesApi.createIssue(projectId, issueDetails, auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const projectIdx = projects.findIndex(proj => proj.id === Number(projectId));\n            projects[projectIdx].issues.push(newIssue);\n            return { ...prev, data: projects}\n        });\n        return newIssue;\n    }\n\n    const handleDeleteIssue = async (projectId, issueId) => {\n        await issuesApi.deleteIssue(projectId, issueId, auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const projectIdx = projects.findIndex(proj => proj.id === Number(projectId));\n            const issueIdx = projects[projectIdx] \n                && projects[projectIdx].issues \n                && projects[projectIdx].issues.length > 0 \n                && projects[projectIdx].issues.findIndex(issue => issue.id === Number(issueId));\n            projects[projectIdx].issues.splice(issueIdx, 1);\n            return { ...prev, data: projects }\n        });\n    }\n    \n    const handleEditIssue = async (projectId, issueId, issueUpdates) => {\n        //Do not fire request if there are no changes to the issue\n        if(Object.keys(issueUpdates).length === 0) return;\n\n        const updatedIssue = await issuesApi.updateIssue(projectId, issueId, issueUpdates, auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const projectIdx = projects.findIndex(proj => proj.id === Number(projectId));\n            const issueIdx = projects[projectIdx] \n                && projects[projectIdx].issues \n                && projects[projectIdx].issues.length > 0 \n                && projects[projectIdx].issues.findIndex(issue => issue.id === Number(issueId));\n            projects[projectIdx].issues[issueIdx] = updatedIssue;\n            return { ...prev, data: projects }\n        });\n    }\n\n    const handleAssignIssue = async (projectId, issueId, collaboratorId) => {\n        const updatedIssue = await issuesApi.assignIssue(projectId, issueId, collaboratorId, auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const projectIdx = projects.findIndex(proj => proj.id === Number(projectId));\n            const issueIdx = projects[projectIdx] \n                && projects[projectIdx].issues \n                && projects[projectIdx].issues.length > 0 \n                && projects[projectIdx].issues.findIndex(issue => issue.id === Number(issueId));\n            projects[projectIdx].issues[issueIdx] = updatedIssue;\n            return { ...prev, data: projects }\n        });\n    }\n\n    const handleStartIssue = async (projectId, issueId) => {\n        const updatedIssue = await issuesApi.advanceIssue(projectId, issueId, \"inprogress\", auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const projectIdx = projects.findIndex(proj => proj.id === Number(projectId));\n            const issueIdx = projects[projectIdx] \n                && projects[projectIdx].issues \n                && projects[projectIdx].issues.length > 0 \n                && projects[projectIdx].issues.findIndex(issue => issue.id === Number(issueId));\n            projects[projectIdx].issues[issueIdx] = updatedIssue;\n            return { ...prev, data: projects }\n        });\n    } \n\n    const handleCloseIssue = async (projectId, issueId, status) => {\n        const updatedIssue = await issuesApi.advanceIssue(projectId, issueId, status, auth.user.token);\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const projectIdx = projects.findIndex(proj => proj.id === Number(projectId));\n            const issueIdx = projects[projectIdx] \n                && projects[projectIdx].issues \n                && projects[projectIdx].issues.length > 0 \n                && projects[projectIdx].issues.findIndex(issue => issue.id === Number(issueId));\n            projects[projectIdx].issues[issueIdx] = updatedIssue;\n            return { ...prev, data: projects }\n        });\n    }\n\n    const handleIssueAttachmentRequest = async (projectId, issueId, data, cb) => {\n        console.log(\"in context\")\n        return issuesApi.createAttachment(projectId, issueId, data, auth.user.token, cb);\n    }\n\n    const addIssueAttachmentHandles = (projectId, issueId, attachmentHandles) => {\n        setProjects(prev => {\n            const projects = prev.data.slice();\n            const projectIdx = projects.findIndex(proj => proj.id === Number(projectId));\n            const issueIdx = projects[projectIdx] \n                && projects[projectIdx].issues \n                && projects[projectIdx].issues.length > 0 \n                && projects[projectIdx].issues.findIndex(issue => issue.id === Number(issueId));\n            const currHandles = projects[projectIdx].issues[issueIdx].attachmentHandles || [];\n            projects[projectIdx].issues[issueIdx].attachmentHandles = currHandles.concat(attachmentHandles);\n            return { ...prev, data: projects }\n        });\n    }\n\n    return {\n        data: projects.data,\n        handleDeleteProject,\n        handleEditProject,\n        handleAddProject,\n        handleAddCollaborator,\n        handleDeleteIssue,\n        handleEditIssue,\n        handleCreateIssue,\n        handleAssignIssue,\n        handleStartIssue,\n        handleCloseIssue,\n        handleIssueAttachmentRequest,\n        addIssueAttachmentHandles\n    }\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport useAuth from '../../hooks/useAuth';\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\nfunction PrivateRoute({ children, component, ...props }) {\n    let auth = useAuth();\n    const Component = component;\n    return (\n        <Route\n            {...props}\n            render={(props) =>\n            auth.user ? (\n                children || <Component {...props}/>\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/login\",\n                        state: { from: props.location }\n                    }}\n                />\n            )}\n        />\n    );\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { Link } from 'react-router-dom';\n\nfunction LinkButton({ to, text, ...props }) {\n    return (\n        <Button as={Link} to={to ? to : \"#\"} variant=\"outline-primary\" {...props}>\n            {text || props.children}\n        </Button>\n    );\n}\n\nexport default LinkButton;","import { Navbar } from 'react-bootstrap'\nimport './NavBar.css';\n\nfunction NavBar({ title, logo, render, ...props }) {\n    return (\n        <Navbar className=\"NavBar\" {...props}>\n            <Navbar.Brand id=\"brand\" href=\"/\">\n                {logo ? \n                    <img \n                        alt=\"\"\n                        src={logo}\n                        className=\"logo\"\n                    /> : \n                    null\n                }\n                {title}\n            </Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\n                {render()}\n            </Navbar.Collapse>\n        </Navbar>\n    )\n}\n\nexport default NavBar;","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React from 'react';\nimport { Nav } from 'react-bootstrap';\n\nimport LinkButton from '../../display/Button/LinkButton';\nimport NavBar from '../../display/NavBar/NavBar';\nimport useAuth from '../../../hooks/useAuth';\n\nimport logo from '../../../logo.svg';\n\nfunction TopNavBar(props) {\n    const auth = useAuth();\n\n    const logout = () => {\n        auth.logout(() => {\n            console.log(\"Logged out\")\n        })\n    }\n    \n    return (\n        <NavBar title=\"Issue Tracker\" logo={logo} bg=\"dark\" expand=\"md\" render={() => (\n            <Nav >\n                { !auth.user ? <LinkButton className=\"m-sm-1\" to=\"login\">Login</LinkButton> : null }\n                { !auth.user ? <LinkButton className=\"m-sm-1\" to=\"signup\">Signup</LinkButton> : null }\n                { auth.user ? <LinkButton className=\"m-sm-1\" to=\"/dashboard\">Dashboard</LinkButton> : null }\n                { auth.user ? <LinkButton className=\"m-sm-1\" to=\"/account\">Account</LinkButton> : null }\n                { auth.user ? <LinkButton className=\"m-sm-1\" onClick={logout}>Logout</LinkButton> : null }\n            </Nav>\n        )} />\n    )\n}\n\nexport default TopNavBar;","import React from 'react';\nimport { Field, ErrorMessage } from 'formik';\nimport { FormControl } from 'react-bootstrap';\n\nimport './TextInput.css';\n\nconst InputComponent = (props) => (\n    <FormControl \n        name={props.name} \n        as={props.type === \"textarea\" ? \"textarea\" : \"input\"} \n        {...props}\n        className=\"form-input\"\n    />\n);\n\nexport default function TextInput(props) {\n    return (\n        <span className=\"text-input-container my-2\">\n            <label htmlFor={props.name}>{props.label}</label>\n            <span  className=\"form-error\">\n                <ErrorMessage {...props} />\n            </span>\n            <Field as={InputComponent} {...props} className=\"form-input\" />\n        </span>\n    )\n}","import * as Yup from 'yup';\n\nexport const SignupSchema = Yup.object().shape({\n    firstName: Yup.string()\n        .min(3, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n    lastName: Yup.string()\n        .min(3, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n    userName: Yup.string()\n        .min(3, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n    email: Yup.string()\n        .email('Invalid email')\n        .required('Required'),\n    password: Yup.string()\n        .min(6, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n    confirmPassword: Yup.string().oneOf([Yup.ref('password'), ''], 'Passwords do not match')\n});\n\nexport const LoginSchema = Yup.object().shape({\n    userName: Yup.string()\n        .min(3, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n    password: Yup.string()\n        .min(6, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n});\n\nexport const ChangePasswordSchema = Yup.object().shape({\n    currentPassword: Yup.string()\n        .min(6, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n    newPassword: Yup.string()\n        .min(6, 'Too Short!')\n        .max(20, 'Too Long!')\n        .required('Required'),\n    confirmNewPassword: Yup.string()\n        .oneOf([Yup.ref('newPassword'), null], 'Passwords must match')\n})\n\nexport const ProjectSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(3, \"Too Short!\")\n        .max(30, \"Too Long!\")\n        .required(\"Required\"),\n    description: Yup.string()\n        .min(3, \"Too Short!\")\n        .max(512, \"Too Long!\")\n        .required(\"Required\")\n});\n\nexport const IssueSchema = Yup.object().shape({\n    title: Yup.string()\n        .min(3, \"Too Short!\")\n        .max(30, \"Too Long!\")\n        .required(\"Required\"),\n    description: Yup.string()\n        .min(3, \"Too Short!\")\n        .max(512, \"Too Long!\")\n        .required(\"Required\")\n});","import React from 'react';\nimport { Formik, Form } from 'formik';\nimport { Link } from 'react-router-dom';\nimport { Row, Button } from 'react-bootstrap';\n\nimport TextInput from './inputs/TextInput/TextInput';\nimport { LoginSchema } from '../../utility/schema/validation'\n\nfunction LoginForm({ onSubmit, ...props }) {\n    return (\n        <Formik\n            initialValues={{ userName: \"\", password: \"\" }}\n            validationSchema={LoginSchema}\n            onSubmit={async (values, { setSubmitting }) => {\n                setSubmitting(true);\n                try {\n                    await onSubmit(values)\n                } catch (err) {\n                    console.log(err);\n                }\n                setSubmitting(false);\n            }}\n        >\n            {({ isSubmitting }) => (\n                <Form className=\"form\">\n                    <Row as=\"h3\" className=\"center-align heading\">Login</Row>\n\n                    <Row as=\"h5\" className=\"left-align subheading\">Login to your account</Row>\n                    <Row as=\"p\" className=\"left-align message\">Welcome! You must log in to your account to view and manage your projects with [insert issue tracker name here]!</Row>\n\n                    <Row className=\"mx-4\">\n                        <TextInput name=\"userName\" type=\"text\" label=\"Username\" />\n                    </Row>\n\n                    <Row className=\"mx-4\">\n                        <TextInput name=\"password\" type=\"password\" label=\"Password\" />\n                    </Row>\n\n                    {props.error && <div className=\"form-error\">{props.error.message}</div>}\n\n                    <Row className=\"my-3\">\n                        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\n                            Login\n                        </Button>\n                    </Row>\n\n                    <Row as=\"p\" className=\"center-align message\">Don't have an account yet? Please <Link to=\"signup\">&nbsp;Sign up&nbsp;</Link> to continue.</Row>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default LoginForm;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport useAuth from '../../hooks/useAuth';\nimport LoginForm from '../../components/form/LoginForm';\n\nimport '../page.css';\n\nfunction LoginPage(props) {\n    const auth = useAuth();\n\n    const login = (credentials) => (\n        auth.login(credentials, (user) => {\n            console.log(\"Signed in as \" + user.userName + \"!\");\n        })\n    );\n\n    const fromState = props.location.state ? props.location.state.from : null;\n\n    if (auth.isLoading) return <div>Loading...</div>;\n    if (auth.user) return <Redirect to={fromState ? fromState.pathname : \"/\"} />;\n\n    return (\n        <Container fluid className=\"page\">\n            <Row className=\"form-container\">\n                <Col xs={12} sm={8} md={6} lg={5}>\n                    <LoginForm onSubmit={login} error={auth.error} />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default LoginPage;","import React from 'react';\nimport { Formik, Form } from 'formik';\nimport { Link } from 'react-router-dom';\nimport { Row, Button, Col } from 'react-bootstrap';\nimport { SignupSchema } from '../../utility/schema/validation';\nimport TextInput from './inputs/TextInput/TextInput';\n\nimport './form.css';\n\nfunction SignupForm(props) {\n    return (\n        <Formik\n            initialValues={{ firstName: \"\", lastName: \"\", email: \"\", userName: \"\", password: \"\", confirmPassword: \"\" }}\n            validationSchema={SignupSchema}\n            onSubmit={async (values, form) => {\n                form.setSubmitting(true);\n                try {\n                    await props.onSubmit(values);\n                } catch (err) {\n                    console.log(err);\n                }\n                form.setSubmitting(false);\n            }}\n        >\n            {({ isSubmitting }) => (\n                <Form className=\"form\" autoComplete=\"false\">\n                    <Row as=\"h3\" lg={1} className=\"center-align heading\">Sign Up</Row>\n\n                    <Row as=\"h5\" className=\"left-align subheading\">Sign up for an account</Row>\n                    <Row as=\"p\" className=\"left-align message\">Sign up today and you can begin keeping track of all tasks and issues related to your projects with [insert issue tracker name here]!</Row>\n\n                    <Row className=\"mx-4\">\n                        <Col xs={12} md={6}>\n                            <TextInput name=\"firstName\" type=\"text\" label=\"First name\" />\n                        </Col>\n                        <Col xs={12} md={6}>\n                            <TextInput name=\"lastName\" type=\"text\" label=\"Last name\" />\n                        </Col>\n                    </Row>\n\n                    <Row className=\"mx-4\">\n                        <Col xs={12} md={6}>\n                            <TextInput name=\"userName\" type=\"text\" label=\"User name\" />\n                        </Col>\n                        <Col xs={12} md={6}>\n                            <TextInput name=\"email\" type=\"text\" label=\"Email\" />\n                        </Col>\n                    </Row>\n\n                    <Row className=\"mx-4\">\n                        <Col xs={12} md={6}>\n                            <TextInput name=\"password\" type=\"password\" label=\"Password\" />\n                        </Col>\n                        <Col xs={12} md={6}>\n                            <TextInput name=\"confirmPassword\" type=\"password\" label=\"Confirm Password\" />\n                        </Col>\n                    </Row>\n\n                    <Row className=\"my-3\">\n                        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>Sign up</Button>\n                    </Row>\n                    \n                    <Row as=\"p\" className=\"center-align message\">Already have an account? Please <Link to=\"login\">&nbsp;Log in&nbsp;</Link> to continue.</Row>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default SignupForm;","import React, { useState } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom';\n\nimport SignupForm from '../../components/form/SignupForm';\nimport useAuth from '../../hooks/useAuth';\n\nimport '../page.css';\n\nfunction SignupPage() {\n    const auth = useAuth();\n    const [redirect, setRedirect] = useState(false); \n\n    const signup = async (userInfo) => {\n        await auth.signup(userInfo, (data) => {\n            console.log(data)\n        });\n        setRedirect(true);\n    }\n\n    return (\n        auth.isLoading ? \n            <div>Loading...</div> :\n            (auth.user || redirect) ?\n                <Redirect to=\"/\" /> :\n                <Container fluid className=\"page\">\n                    <Row className=\"form-container\">\n                        <Col  xs={12} sm={10} md={8} xl={6}>\n                            <SignupForm onSubmit={signup} />\n                        </Col>\n                    </Row>\n                </Container>\n    )\n}\n\nexport default SignupPage;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\n\nimport LinkButton from '../../components/display/Button/LinkButton';\nimport './Dashboard.css';\n\nfunction Dashboard() {\n\n    return (\n        <Container className=\"tile-container\">\n            <LinkButton to=\"/projects\" className=\"tile\">Projects&Issues</LinkButton>\n            <Button className=\"tile\">Reports (Coming Soon)</Button>\n        </Container>       \n    )\n}\n\nexport default Dashboard;","import React from 'react';\nimport { Nav } from 'react-bootstrap';\n\nimport LinkButton from '../../display/Button/LinkButton';\nimport NavBar from '../../display/NavBar/NavBar';\n\nfunction ProjectsNavBar() {\n    return (\n        <NavBar title=\"Projects\" bg=\"light\" render={() => (\n            <Nav>\n                <LinkButton to=\"/projects/new\" className=\"m-sm-1\">Add New Project</LinkButton>\n            </Nav>\n        )}/>\n    )\n}\n\nexport default ProjectsNavBar;","import React from 'react';\n\nfunction ListItem({ item, render }) {\n    return (\n        <div className=\"list-item\" >{render(item)}</div>\n    )\n}\n\nexport default ListItem;","import React, { useState } from 'react';\nimport ListItem from './ListItem';\n\nfunction ListItemGroup({ name, value, items, render }) {\n    const [collapse, setCollapse] = useState(false);\n    return (\n        <div className={\"list-item-group \" + name }>\n            <div className={\"group-header \" + (collapse ? \"collapsed\" : \"\")} onClick={() => setCollapse(prev => !prev)}>{value}</div>\n            {\n                collapse ? null :\n                (items && items.length > 0) ? \n                    items.map((item, idx) => <ListItem key={`${value}-${idx}`} item={item} render={render} />)\n                :\n                    <div className=\"empty-group-message\">There are no items to display for this group</div>\n            }\n        </div>\n    )\n}\n\nexport default ListItemGroup;","import React from 'react';\n\nimport ListItem from './ListItem'\nimport ListItemGroup from './ListItemGroup';\nimport './List.css';\nimport { useFilteredItems } from '../../../hooks/useFilteredItems';\nimport { useGroupedItems } from '../../../hooks/useGroupedItems';\n\n\nfunction List({ listItems, groupKey = null, groupValues = null, orderBy = 'asc', filter = null, searchText = \"\", searchKeys = [], render }) {\n\n    const filteredItems = useFilteredItems(listItems, filter, searchText, searchKeys);\n    const groupedItems = useGroupedItems(filteredItems, groupKey);\n\n    const listComponents = () => {\n        let listComponentArray;\n        if(groupKey && groupValues) {\n            const groupComponents = [];\n            groupValues.forEach(value => {\n                const values = groupedItems[value];\n                groupComponents.push(<ListItemGroup key={`${groupKey}=${value}`} name={groupKey} value={value} items={values} render={render}/>);\n            })\n            listComponentArray = orderBy === 'desc' ? groupComponents.reverse() : groupComponents;\n        } else {\n            listComponentArray = filteredItems && filteredItems.map((item, idx) => <ListItem item={item} key={idx} keyValue={idx} render={render} />);\n        }\n\n        return listComponentArray;\n    }\n\n    return (\n        <div className=\"list-container\">\n            { listComponents() }\n        </div>\n    )\n}\n\nexport default List;","import { mapValues, pickBy, includes } from 'lodash';\n\nexport const useFilteredItems = (items, filter = null, searchText = \"\", searchKeys = []) => {\n    if(!filter) return items;\n    \n    // Maps property keys of 'filter' prop to an array containing the values that are not being filtered out\n    const allowedValues = mapValues(filter, (obj) => {\n        const selectedFilters = pickBy(obj, (value) => value === true);\n        return Object.keys(selectedFilters);\n    });\n    \n    const filteredItems = items && items.length > 0 && items.filter(item => {\n        const allowedKeys = Object.keys(allowedValues);\n        let isAllowed = true;\n        // Filter out items based on the current filter\n        for(let key of allowedKeys) {\n            if(includes(allowedValues[key], item[key]) === false) {\n                isAllowed = false;\n            }\n        }\n        // Also, filter out items not matching the current search (item['searchKeys'] !== 'searchText')\n        if(isAllowed && searchText !== \"\") {\n            for(let key of searchKeys) {\n                if(includes(item[key].toLowerCase(), searchText.toLowerCase()) === true) {\n                    isAllowed = true;\n                    break;\n                } else isAllowed = false;\n            }\n        }\n        return isAllowed;\n    });\n\n    return filteredItems ? filteredItems : items;\n}","import { groupBy } from 'lodash';\n\nexport const useGroupedItems = (items, groupKey = null) => {\n    if(!groupKey) return items;\n    const groupedItems = groupBy(items, (value) => value[groupKey]);\n    return groupedItems;\n}\n","import React from 'react';\nimport { Card, Dropdown, DropdownButton, ButtonGroup, Row, Col } from 'react-bootstrap';\nimport LinkButton from '../../display/Button/LinkButton';\n\nfunction ProjectListOverviewCard({ project, onDelete, onEdit, onAddCollaborator }) {\n    return (\n        <Card className=\"project-list-card\">\n            <Card.Body className=\"left-side\">\n                <Row>\n                    <Col className=\"my-1\" xs={12} xl={6}>\n                        <Card.Title>{project.name}</Card.Title>\n                    </Col>\n                    <Col className=\"my-1\">\n                        <LinkButton size=\"sm\">View Details</LinkButton>\n                    </Col>\n                    <Col className=\"my-1\" xs={12} xl={12}>\n                        <Card.Text>\n                            {project.description}\n                        </Card.Text>\n                    </Col>\n                </Row>\n            </Card.Body>\n\n            <Card.Body className=\"right-side\">\n                <Row>                    \n                    <Col xs={12} xl={3} className=\"content-group\">\n                        <Card.Title className=\"content-group-title\">Collaborators</Card.Title>\n                        <LinkButton className=\"mx-2\" size=\"sm\">View</LinkButton>\n                        <Card.Text>\n                            {\"There are \" + project.issues.length + \" collaborators\"}\n                        </Card.Text>\n                    </Col>\n\n                    <Col sm={12} xl={4}  className=\"content-group\">\n                        <Card.Title className=\"content-group-title\">Your Issues</Card.Title>\n                        <LinkButton className=\"mx-2\" size=\"sm\">View My Issues</LinkButton>\n                        <Card.Text>\n                            {\"You have \" + project.issues.length + \" issues assigned to you\"}\n                        </Card.Text>\n                    </Col>\n\n                    <Col sm={12} xl={5}  className=\"content-group\">\n                        <Card.Title className=\"content-group-title\">All Issues</Card.Title>\n                        <ButtonGroup className=\"buttons mx-2\">\n                            <LinkButton variant=\"outline-primary\" to={`/projects/${project.id}/issues`} size=\"sm\">View Issues</LinkButton>\n                            <LinkButton variant=\"primary\" to={`/projects/${project.id}/issues/new`} size=\"sm\">Create Issue</LinkButton>\n                        </ButtonGroup>\n                        <Card.Text>\n                            {\"There are \" + project.issues.length + \" issues related to this project\"}\n                        </Card.Text>\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    )\n}\n\nexport default ProjectListOverviewCard;","import React from 'react';\n\nimport List from '../../display/List/List';\nimport ProjectListOverviewCard from './ProjectListOverviewCard';\nimport './ProjectList.css';\n\nfunction ProjectList({ projectList, ...props }) {\n    return (\n        projectList ? \n        <List listItems={projectList} render={item => (\n            <ProjectListOverviewCard project={item} {...props} />\n        )}/> : \n        \"No projects\"\n    );\n};\n\nexport default ProjectList;","import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport TextInput from './inputs/TextInput/TextInput';\nimport { ProjectSchema } from '../../utility/schema/validation';\n\nfunction NewProjectForm({ onSubmit }) {\n    return (\n        <Formik\n            initialValues={{ name: \"\", description: \"\" }}\n            validationSchema={ProjectSchema}\n            onSubmit={async (values, { setSubmitting }) => {\n                setSubmitting(true);\n                try {\n                    await onSubmit(values)\n                } catch (err) {\n                    console.log(err);\n                }\n                setSubmitting(false);\n            }}\n        >\n            {({ isSubmitting }) => (\n                <Form className=\"form\">\n                    <Row as=\"h3\">Create New Project</Row>\n\n                    <TextInput name=\"name\" type=\"text\" label=\"Project name\"/>\n\n                    <TextInput name=\"description\" type=\"textarea\" label=\"Project description\"/>\n\n                    <Row className=\"my-4\">\n                        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\n                            Create Project\n                        </Button>\n                    </Row>\n\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default NewProjectForm;","import React, { useState, createContext } from 'react';\n\nexport const notificationBannerContext = createContext({ });\n\nexport default function ProvideNotificationBanner(props) {\n    const notificationBanner = useProvideNotificationBanner();\n\n    return (\n        <notificationBannerContext.Provider value={notificationBanner}>\n            {props.children}\n        </notificationBannerContext.Provider>\n    )\n}\n\nfunction useProvideNotificationBanner() {\n    const [text, setText] = useState(\"Notification Banner\");\n    const [show, setShow] = useState(false);\n\n    const showNotificationWithText = (value) => {\n        setText(value);\n        setShow(true);\n        setTimeout(() => { \n            setShow(false);\n            setText(\"\");\n        }, 5000);\n    }\n\n    return {\n        text,\n        show,\n        showNotificationWithText\n    }\n}","import { useContext } from \"react\";\nimport { notificationBannerContext } from \"../contexts/NotificationBannerContext\";\n\nexport default function useNotificationBanner() {\n    return useContext(notificationBannerContext);\n}","import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport useAuth from '../../hooks/useAuth';\nimport NewProjectForm from '../../components/form/NewProjectForm';\nimport useNotificationBanner from '../../hooks/useNotificationBanner';\n\nfunction NewProjectPage(props) {\n    const auth = useAuth();\n    const notificationBanner = useNotificationBanner();\n    const [redirect, setRedirect] = useState(false);\n\n    const createNewProject = async (newProject) => {\n        console.log(\"Creating project with token \" + auth.user.token);\n        await props.onSubmit(newProject);\n        notificationBanner.showNotificationWithText(\"Project successfully created!\");\n        setRedirect(true);\n    }\n\n    return (\n        redirect === true ?\n            <Redirect to=\"/projects\" /> :\n            <Container fluid className=\"page\">\n                <Row className=\"form-container\">\n                    <Col xs={12} sm={8} md={5} xl={4}>\n                        <NewProjectForm onSubmit={createNewProject} />\n                    </Col>\n                </Row>\n            </Container>\n    )\n}\n\nexport default NewProjectPage;","import React, { useState, useRef } from 'react';\nimport './Dropzone.css';\n\nfunction Dropzone({ name, disabled, onFilesAdded }) {\n    const [highlight, setHighlight] = useState(false);\n    const fileInputRef = useRef(null);\n\n    const openFileDialog = () => {\n        if(disabled) return;\n        fileInputRef.current.click();\n    }\n\n    const handleFilesAdded = (e) => {\n        if(disabled) return;\n        const files = e.target.files;\n        if(onFilesAdded) {\n            const array = fileListToArray(files);\n            onFilesAdded(array);\n        }\n    }\n\n    const handleDragOver = (e) => {\n        e.preventDefault();\n        setHighlight(true);\n    }\n\n    const handleDragLeave = () => {\n        setHighlight(false);\n    }\n\n    const handleDrop = (e) => {\n        e.preventDefault();\n        if(disabled) return;\n\n        const files = e.dataTransfer.files;\n        if(onFilesAdded) {\n            const array = fileListToArray(files);\n            onFilesAdded(array);\n        }\n\n        setHighlight(false);\n    }\n\n    const fileListToArray = (fileList) => {\n        const array = [];\n        for (let i = 0; i < fileList.length; i++) {\n            array.push(fileList.item(i));\n        }\n        return array;\n    }\n\n    return (\n        <div \n            className={`dropzone ${highlight ? 'highlight' : ''}`}\n            onDragOver={handleDragOver}\n            onDragLeave={handleDragLeave}\n            onDrop={handleDrop}\n            onClick={openFileDialog}\n            style={{ cursor: disabled ? 'default' : 'pointer' }}\n        >\n            <input \n                ref={fileInputRef}\n                name={name}\n                className=\"file-input\"\n                type=\"file\"\n                multiple\n                onChange={handleFilesAdded}\n            />\n            <img \n                alt=\"upload\"\n                className=\"icon\"\n                src=\"/upload_file_black_24dp.svg\"\n            />\n            <span>Upload Files</span>\n        </div>\n    )\n}\n\nexport default Dropzone;","import React, { useEffect, useState } from 'react';\nimport { Button, ProgressBar } from 'react-bootstrap';\nimport Dropzone from '../Dropzone/Dropzone';\n\nimport './Upload.css';\n\nconst initialUpload = {\n    files: [],\n    isUploading: false,\n    progress: {},\n    successful: false\n};\n\nfunction Upload({ onChange, sendRequest, onClose, setUploadCallbacks, ...props }) {\n    const [upload, setUpload] = useState(initialUpload);\n\n    useEffect(() => {\n        setUploadCallbacks && setUploadCallbacks(() => uploadCallbacks);\n    }, [setUploadCallbacks])\n\n    const handleFilesAdded = (files) => {\n        setUpload(prev => {\n            const updatedFiles = prev.files.concat(files);\n            onChange && onChange(updatedFiles);\n            return {\n                ...prev,\n                files: updatedFiles\n            }\n        });\n    }\n\n    const handleFilesRemoved = (fileIndex) => {\n        setUpload(prev => {\n            console.log(\"removing file:\", fileIndex)\n            const updatedFiles = prev.files.slice();\n            updatedFiles.splice(fileIndex, 1);\n            return {\n                ...prev,\n                files: updatedFiles\n            };\n        });\n    }\n\n    // Only when clicking the upload button in renderActions, else upload handled externally\n    const uploadFiles = async () => {\n        setUpload(prev => ({ ...prev, progress: {}, isUploading: true }));\n\n        const promises = [];\n        console.log(upload);\n        let callbacks;\n        upload.files && upload.files.forEach(file => {\n            console.log(\"sending request from upload\")\n            callbacks = uploadCallbacks(file);\n            const data = new FormData();\n            data.append('attachments', file);\n            promises.push(sendRequest(data, callbacks.progressCb));\n        });\n\n        try {\n            const attachmentHandles = await Promise.all(promises)\n                .then(responses => responses.map(response => response.data.id))\n                .then(data => {\n                    callbacks.successCb();\n                    return data;\n                })\n                .catch(err => callbacks.failureCb(err));\n\n            props.onComplete(attachmentHandles);\n        } catch(err) {\n            callbacks.failureCb(err);\n        }\n    }\n\n    const renderActions = () => {\n        if(!sendRequest) return null;\n\n        if(upload.successful) {\n            return (\n                <Button\n                    onClick={() => setUpload(initialUpload)}\n                >\n                    Clear\n                </Button>\n            )\n        } else {\n            return (\n                <Button \n                    disabled={!upload.files || upload.files.length < 0 || upload.isUploading}\n                    onClick={uploadFiles}\n                >\n                    Upload\n                </Button>\n            )\n        }\n    }\n\n    const uploadCallbacks = (file) => {\n        setUpload(prev => ({ ...prev, progress: {}, isUploading: true }));\n        return {\n            progressCb: (percentCompleted) => {\n                if(percentCompleted && percentCompleted !== 100) {\n                    console.log(\"isuploading\")\n                    setUpload(prev=> {\n                        const copy = { ...prev.progress }\n                        copy[file.name] = {\n                            state: \"pending\",\n                            percentage: percentCompleted\n                        }\n                        return { ...prev, progress: copy };\n                    });\n                } else if(percentCompleted) {\n                    console.log(\"issuccessful\")\n                    setUpload(prev=> {\n                        const copy = { ...prev.progress }\n                        copy[file.name] = {\n                            state: \"done\",\n                            percentage: percentCompleted\n                        }\n                        return { ...prev, progress: copy }\n                    });\n                }\n            },\n            successCb: () => { \n                console.log(\"calling success\");\n                setUpload(prev => ({...prev, successful: true, uploading: false }))\n            },\n            failureCb: (err) => { \n                console.log(\"calling failure\", err);\n                setUpload(prev=> ({ ...prev, successful: false, uploading: false }))\n            }\n        }\n    }\n\n    const renderProgress = (file) => {\n        const uploadProgress = upload.progress && upload.progress[file.name];\n        if(upload.isUploading || upload.successful) {\n            return (\n                <div className=\"progress-wrapper\">\n                    <ProgressBar now={uploadProgress ? uploadProgress.percentage : 0} />\n                    <img \n                        className=\"successful-icon\"\n                        alt=\"successful\"\n                        src=\"/file_download_done_black_24dp.svg\"\n                        style={{\n                            opacity:\n                                uploadProgress && uploadProgress.state === \"done\" ? 0.5 : 0\n                        }}\n                    />\n                </div>\n            )\n        }\n    }\n\n    return (\n        <div className=\"upload\">\n            <div className=\"header\">\n                <span className=\"title\">Upload Files</span>\n                { onClose &&\n                    <button \n                        className=\"close-upload link\"\n                        onClick={() => onClose()}\n                    >\n                        X\n                    </button>\n                }\n            </div>\n            <div className=\"content\">\n                <div>\n                    <Dropzone \n                        name={props.name}\n                        onFilesAdded={handleFilesAdded}\n                        disabled={upload.isUploading || upload.successful}\n                    />\n                </div>\n                <div className=\"files\">\n                    {\n                        upload.files && upload.files.map((file, idx) => (\n                            <div className=\"file-progress\" key={`file.name-${idx}`}>\n                                <span className=\"filename\">{file.name}</span>\n                                {renderProgress(file)}{\" \"}\n                                <button \n                                    className=\"remove-attachment link\"\n                                    onClick={() => handleFilesRemoved(idx)}\n                                    style={{ \n                                        display: upload.isUploading || upload.successful ? \"none\" : \"inline\"\n                                    }}\n                                >\n                                    X\n                                </button>\n                            </div>\n                        ))\n                    }\n                </div>\n            </div>\n            <div className=\"actions\">{renderActions()}</div>\n        </div>\n    );\n}\n\nexport default Upload;","import React from 'react';\nimport { Field, ErrorMessage } from 'formik';\n\nimport './SelectInput.css';\n\nexport default function SelectInput(props) {\n    return (\n        <span className=\"input-container my-2\">\n            <label htmlFor={props.name}>{props.label}</label>\n            <span className=\"form-error\">\n                <ErrorMessage {...props} />\n            </span>\n            \n            <Field as=\"select\" {...props} className=\"form-input\">\n                {props.children}\n            </Field>\n        </span>\n    )\n}","import React, { useState } from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nimport Upload from './inputs/Upload/Upload';\nimport TextInput from './inputs/TextInput/TextInput';\nimport SelectInput from './inputs/SelectInput/SelectInput';\nimport { IssueSchema } from '../../utility/schema/validation';\n\nfunction NewIssueForm({ onSubmit, collaborators }) {\n    const [uploadCallbacks, setUploadCallbacks] = useState({\n        progressCb: (percentCompleted) => { console.log(percentCompleted) },\n        successCb: () => { console.log(\"Successful upload\") },\n        failureCb: () => { console.log(\"Failed upload\") }\n    });\n\n    return (\n        <Formik\n            initialValues={{ title: \"\", description: \"\", category: \"other\", priority: \"regular\", status: \"unassigned\", assigneeId: \"\" }}\n            validationSchema={IssueSchema}\n            onSubmit={async (values, { setSubmitting }) => {\n                setSubmitting(true);\n                try {\n                    const newIssue = values;\n\n                    await onSubmit(newIssue, uploadCallbacks);\n\n                } catch (err) {\n                    console.log(err);\n                }\n                setSubmitting(false);\n            }}\n        >\n            {({ isSubmitting, setFieldValue, submitForm, resetForm }) => (\n                <Form className=\"form\" id=\"new-issue-form\">\n                    <Row as=\"h3\">Add New Issue</Row>\n\n                    <TextInput name=\"title\" type=\"text\" label=\"Issue Title\" />\n\n                    <TextInput name=\"description\" type=\"textarea\" label=\"Description\" />\n\n                    <SelectInput name=\"category\" label=\"Category\">\n                        <option value=\"bug\">Bug</option>\n                        <option value=\"feature\">Feature</option>\n                        <option value=\"task\">Task</option>\n                        <option value=\"other\">Uncategorized</option>\n                    </SelectInput>\n\n                    <SelectInput name=\"priority\" label=\"Priority\">\n                        <option value=\"trivial\">Trivial</option>\n                        <option value=\"low\">Low</option>\n                        <option value=\"regular\">Regular</option>\n                        <option value=\"high\">High</option>\n                        <option value=\"critical\">Critical</option>\n                    </SelectInput>\n\n                    <Row className=\"input-container\">\n                        <label htmlFor=\"attachments\">Attachments</label>\n                        <Col xl={6}>\n                            <Field\n                                name=\"attachments\"\n                                as={Upload}\n                                onChange={val => setFieldValue('attachments', val)}\n                                setUploadCallbacks={setUploadCallbacks}\n                                className=\"form-input\"\n                            />\n                        </Col>\n                    </Row>\n\n                    <SelectInput name=\"assign\" label=\"Assign\">\n                        <option value=\"\">Unassigned</option>\n                        {\n                            collaborators.map(user => <option key={user.id} value={user.id}>{user.userName}</option>)\n                        }\n                    </SelectInput>\n\n                    <Field name=\"createAnother\" type=\"checkbox\" style={{ display: \"none\" }}></Field>\n\n                    <Row>\n                        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\n                            Add Issue\n                        </Button>\n                        <Button\n                            variant=\"outline-primary\"\n                            className=\"mx-1\"\n                            disabled={isSubmitting}\n                            onClick={async () => {\n                                setFieldValue(\"createAnother\", true);\n                                await submitForm();\n                                resetForm();\n                            }}\n                        >\n                            Add And Create Another\n                        </Button>\n                    </Row>\n\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default NewIssueForm;","import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nimport NewIssueForm from '../../components/form/NewIssueForm';\nimport useResource from '../../hooks/useResource';\nimport useAuth from '../../hooks/useAuth';\nimport useNotificationBanner from '../../hooks/useNotificationBanner';\n\nfunction NewIssuePage(props) {\n    const auth = useAuth();\n    const notificationBanner = useNotificationBanner();\n    const [collaborators, setCollaborators] = useResource(\n        `/api/projects/${props.match.params.projectId}/collaborators`,\n        auth.user ? auth.user.token : null\n    );\n    const [redirect, setRedirect] = useState(false);\n\n    const addIssueAttachment = async (issueId, attachmentData, cb) => {\n        console.log(\"in new issue page\")\n        return props.onCreateAttachmentRequest(props.match.params.projectId, issueId, attachmentData, cb);\n    }\n\n    const addNewIssue = async (newIssue, cb) => {\n        const attachments = newIssue.attachments;\n        delete newIssue.attachments;\n\n        const createAnother = newIssue.createAnother;\n        delete newIssue.createAnother;\n\n        const issue = await props.onSubmit(props.match.params.projectId, newIssue);\n\n        let callbacks = cb(null);\n        const promises = [];\n        attachments && attachments.forEach(file => {\n            callbacks = cb(file);\n            const data = new FormData();\n            data.append('attachments', file);\n            promises.push(addIssueAttachment(issue.id, data, callbacks.progressCb));\n        })\n\n        const attachmentHandles = await Promise.all(promises)\n            .then(responses => responses.map(response => response.data.id))\n            .then(data => {\n                callbacks.successCb();\n                return data;\n            })\n            .catch(err => callbacks.failureCb(err));\n\n        props.onAddAttachment(props.match.params.projectId, issue.id, attachmentHandles);\n\n        notificationBanner.showNotificationWithText(\"Issue successfully added!\");\n\n        setRedirect(createAnother ? false : true);\n    }\n\n    return (\n        redirect === true ?\n            <Redirect to={`/projects/${props.match.params.projectId}/issues`} /> :\n            <Container fluid className=\"page\">\n                <Row className=\"form-container\">\n                    <Col xs={12} sm={6}>\n                        <NewIssueForm onSubmit={addNewIssue} collaborators={collaborators.data} />\n                    </Col>\n                </Row>\n            </Container >\n    )\n}\n\nexport default NewIssuePage;","import React from 'react';\nimport { Nav } from 'react-bootstrap';\n\nimport LinkButton from '../../display/Button/LinkButton';\nimport NavBar from '../../display/NavBar/NavBar';\n\nfunction IssueNavBar({ render }) {\n    return (\n        <NavBar title=\"Issues\" bg=\"light\" expand=\"lg\" render={() => (\n            <Nav>\n                {render()}\n                <LinkButton to=\"issues/new\" variant=\"outline-dark\" className=\"m-sm-1\">Add New Issue</LinkButton>\n            </Nav>\n        )}/>\n    )\n}\n\nexport default IssueNavBar;","import React from 'react';\nimport { Button, Dropdown, DropdownButton, ButtonGroup, ButtonToolbar } from 'react-bootstrap';\nimport LinkButton from '../../display/Button/LinkButton';\n\nconst IssueListButtonToolbar = ({ projectId, issue, onDelete, onAssign, onStart, onClose }) => {\n    const handleDeleteIssue = () => onDelete({ projectId: projectId, issueId: issue.id });\n    const handleAssignIssue = () => onAssign({ projectId: projectId, issueId: issue.id });\n    const handleStartIssue = () => onStart({ projectId: projectId, issueId: issue.id });\n    const handleCloseIssue = () => onClose({ projectId: projectId, issueId: issue.id });\n    const handleAdvanceIssueClick = (e) => {\n        if(issue.status === \"unassigned\") return handleAssignIssue(e);\n        if(issue.status === \"open\") return handleStartIssue(e);\n        if(issue.status === \"inprogress\") return handleCloseIssue(e);\n    }\n\n    const advanceIssueButtonText = () => {\n        if(issue.status === \"unassigned\") return \"Assign\"\n        if(issue.status === \"open\" || issue.status === \"inprogress\") return \"Advance\"\n        if(issue.status === \"resolved\") return \"Resolved\";\n        return \"Closed\";\n    }\n\n    return (\n        <ButtonToolbar className=\"issue-list-button-toolbar\">\n            <ButtonGroup className=\"issue-list-button-group\">\n                <LinkButton variant=\"primary\" to={`/projects/${projectId}/issues/${issue.id}`} size=\"sm\">View</LinkButton>\n                <Button \n                    variant=\"primary\"\n                    size=\"sm\"\n                    onClick={handleAdvanceIssueClick}\n                    disabled={issue.status === \"resolved\" || issue.status === \"closed\"}\n\n                >\n                    {advanceIssueButtonText()}\n                </Button>\n                <DropdownButton as={ButtonGroup} variant=\"secondary\" size=\"sm\" title=\"Settings\">\n                    <Dropdown.Item>Edit Issue</Dropdown.Item>\n                    <Dropdown.Item onClick={handleDeleteIssue}>Delete Issue</Dropdown.Item>\n                </DropdownButton>\n            </ButtonGroup>\n        </ButtonToolbar>\n    )\n}\n\nexport default IssueListButtonToolbar;","import React from 'react';\nimport { Card, Row, Col } from 'react-bootstrap';\nimport IssueListButtonToolbar from './IssueListButtonToolbar';\n\nfunction IssueListOverviewCard({ projectId, issue, ...props }) {\n    return (\n        <Card className=\"issue-list-card-container\">\n            <Card.Body className=\"issue-list-card-body\">\n                <Row className=\"issue-list-row\">\n                    <Col sm={5} xl={2}>\n                        <Card.Title>{issue.title}</Card.Title>\n                    </Col>\n                    <Col sm={7} xl={3}>\n                        <Card.Text>\n                            {issue.description.slice(0, 64) + \" ...\"}\n                        </Card.Text>\n                    </Col>\n                    \n                    <Col xs={6} sm={2} xl={1} className=\"py-2\">\n                        <Card.Subtitle>Category</Card.Subtitle>\n                        <Card.Text>\n                            {issue.category}\n                        </Card.Text>\n                    </Col>\n\n\n                    <Col xs={6} sm={2} xl={1} className=\"py-2\">\n                        <Card.Subtitle>Priority</Card.Subtitle>\n                        <Card.Text>\n                            {issue.priority}\n                        </Card.Text>\n                    </Col>\n\n                    <Col xs={6} sm={2} xl={1} className=\"py-2\">\n                        <Card.Subtitle>Status</Card.Subtitle>\n                        <Card.Text>\n                            {issue.status}\n                        </Card.Text>\n                    </Col>\n\n\n                    <Col xs={6} sm={2} xl={1} className=\"py-2\">\n                        <Card.Subtitle>Assigned</Card.Subtitle>\n                        <Card.Text>\n                            {issue.assignee ? issue.assignee : \"None\"}\n                        </Card.Text>\n                    </Col>\n\n                    <Col xs={12} sm={4} xl={1} className=\"py-2\">\n                        <IssueListButtonToolbar \n                            projectId={projectId} issue={issue} {...props}\n                        />\n                    </Col>\n                </Row>\n            </Card.Body>\n        </Card>\n    )\n}\n\nexport default IssueListOverviewCard;","import React from 'react';\nimport List from '../../display/List/List';\nimport IssueListOverviewCard from './IssueListOverviewCard';\nimport './IssueList.css';\n\nconst groups = { \n    priority: ['trivial', 'low', 'regular', 'high', 'critical'],\n    category: ['other', 'task', 'feature', 'bug'],\n    status: ['closed', 'resolved', 'inprogresss', 'open', 'unassigned'] \n}\n\nfunction IssueList({ projectId, issueList, groupBy, orderBy, filter, searchText, searchKeys, ...props }) {\n    return issueList && issueList.length > 0 ?\n        <List\n            listItems={issueList} \n            groupKey={groupBy}\n            groupValues={groups[groupBy]}\n            orderBy={orderBy}\n            filter={filter}\n            searchText={searchText}\n            searchKeys={searchKeys}\n            render={item => <IssueListOverviewCard projectId={projectId} issue={item} {...props} />}\n        />\n        : \n        <div className=\"empty-list-message\">\n            <span>There are currently no issues to display for this project. </span> \n            <a href=\"issues/new\">Click here </a> \n            <span>to create an issue.</span>\n        </div>\n}\n\nexport default IssueList;","import React, { useState } from 'react';\nimport { Dropdown, DropdownButton, ButtonGroup } from 'react-bootstrap';\nimport './IssueFilterControl.css';\n\nfunction Checkmark({ checked, name, id, onClick }) {\n    return (\n        <div className=\"checkmark\" id={id} name={name} onClick={onClick}>\n            {checked ? \"\\u2713\" : \"\"}\n        </div>\n    )\n}\n\nfunction IssueFilterControl(props) {\n    const [isOpen, setOpen] = useState(false);\n\n    const toggleShow = (open, event, meta) => {\n        if(meta.source !== \"select\") setOpen(open);\n    }\n\n    const handleSelectGroup = (group) => {\n        props.onSelect(\"group\", group);\n    }\n\n    const handleSelectOrder = (order) => {\n        props.onSelect(\"order\", order);\n    }\n\n    const handleSelectFilter = (filter) => {\n        const [filterKey, filterValue] = filter.split(\" \");\n        const newValues = { ...props.filters[filterKey] };\n        newValues[filterValue] = !newValues[filterValue];\n        const filters = { ...props.filters, [filterKey]: newValues };\n        props.onSelect(\"filter\", filters);\n    }\n\n    const setAllFiltersTo = (key, newValue) => {\n        const filterKeys = Object.keys(props.filters);\n        const filters = { ...props.filters };\n        if(key === \"\") {\n            filterKeys.forEach(filterKey => {\n                Object.keys(props.filters[filterKey]).forEach(value => {\n                    filters[filterKey][value] = newValue;\n                });\n            });\n        } else {\n            Object.keys(props.filters[key]).forEach(value => {\n                filters[key][value] = newValue;\n            });\n        }\n        props.onSelect(\"filter\", filters);\n    }\n\n    const checkAllFilters = (key = \"\") => { setAllFiltersTo(key, true); }\n    const uncheckAllFilters = (key = \"\") => { setAllFiltersTo(key, false); }\n\n    const isCleared = (key = \"\") => {\n        const filters = { ...props.filters };\n        let cleared = true;\n        if(key === \"\") {\n            const filterKeys = Object.keys(props.filters);\n            filterKeys.forEach(filterKey => {\n                Object.keys(props.filters[filterKey]).forEach(value => {\n                    if(filters[filterKey][value] === true) cleared = false;\n                });\n            });\n        } else {\n            Object.keys(props.filters[key]).forEach(value => {\n                if(filters[key][value] === true) cleared = false;\n            });\n        }\n        return cleared;\n    }\n\n    const handleToggleAll = () => {\n        isCleared() ? checkAllFilters() : uncheckAllFilters()\n    }\n\n    const handleToggleFilterKey = (key) => {\n        isCleared(key) ? checkAllFilters(key) : uncheckAllFilters(key)\n    }\n\n    return (\n        <ButtonGroup className={props.className}>\n            <DropdownButton className=\"m-1\" variant=\"outline-primary\" title=\"Group by\" onSelect={handleSelectGroup}>\n                <Dropdown.Item eventKey=\"none\">None</Dropdown.Item>\n                <Dropdown.Item eventKey=\"category\">Category</Dropdown.Item>\n                <Dropdown.Item eventKey=\"status\">Status</Dropdown.Item>\n                <Dropdown.Item eventKey=\"priority\">Priority</Dropdown.Item>\n            </DropdownButton>\n\n            <DropdownButton className=\"m-1\" variant=\"outline-primary\" title=\"Order\" onSelect={handleSelectOrder}>\n                <Dropdown.Item eventKey=\"asc\">Ascending</Dropdown.Item>\n                <Dropdown.Item eventKey=\"desc\">Desccending</Dropdown.Item>\n            </DropdownButton>\n\n            <DropdownButton show={isOpen} className=\"filterDropdown m-1\" variant=\"outline-primary\" title=\"Filter\" menuAlign=\"right\" onSelect={handleSelectFilter} onToggle={toggleShow}>\n                <div className=\"filters\">\n                    <div className=\"dropdown-item-group\">\n                        <Dropdown.Header>Category</Dropdown.Header>\n                        <Dropdown.Item eventKey=\"category bug\">\n                            <Checkmark name=\"bug\" id=\"checkbox-bug\" checked={props.filters.category.bug} />\n                            <label htmlFor=\"checkbox-bug\">Bug</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"category feature\">\n                            <Checkmark name=\"feature\" id=\"checkbox-feature\" checked={props.filters.category.feature} />\n                            <label htmlFor=\"checkbox-feature\">Feature</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"category task\">\n                            <Checkmark name=\"task\" id=\"checkbox-task\" checked={props.filters.category.task} />\n                            <label htmlFor=\"checkbox-task\">Task</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"category other\">\n                            <Checkmark name=\"other\" id=\"checkbox-other\" checked={props.filters.category.other} />\n                            <label htmlFor=\"checkbox-other\">Other</label>\n                        </Dropdown.Item>\n                        <Dropdown.ItemText onClick={() => { handleToggleFilterKey(\"category\") }}>{isCleared() ? \"All\" : \"Clear\"}</Dropdown.ItemText>\n                    </div>\n                    \n                    <div className=\"dropdown-item-group\">\n                        <Dropdown.Header>Priority</Dropdown.Header>\n                        <Dropdown.Item eventKey=\"priority critical\">\n                            <Checkmark name=\"critical\" id=\"checkbox-critical\" checked={props.filters.priority.critical} />\n                            <label htmlFor=\"checkbox-critical\">Critical</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"priority high\">\n                            <Checkmark name=\"high\" id=\"checkbox-high\" checked={props.filters.priority.high} />\n                            <label htmlFor=\"checkbox-high\">High</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"priority regular\">\n                            <Checkmark name=\"regular\" id=\"checkbox-regular\" checked={props.filters.priority.regular} />\n                            <label htmlFor=\"checkbox-regular\">Regular</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"priority low\">\n                            <Checkmark name=\"low\" id=\"checkbox-low\" checked={props.filters.priority.low} />\n                            <label htmlFor=\"checkbox-low\">Low</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"priority trivial\">\n                            <Checkmark name=\"trivial\" id=\"checkbox-trivial\" checked={props.filters.priority.trivial} />\n                            <label htmlFor=\"checkbox-trivial\">Trivial</label>\n                        </Dropdown.Item>\n                        <Dropdown.ItemText onClick={() => { handleToggleFilterKey(\"priority\") }}>{isCleared() ? \"All\" : \"Clear\"}</Dropdown.ItemText>\n                    </div>\n\n                    <div className=\"dropdown-item-group\">\n                        <Dropdown.Header>Status</Dropdown.Header>\n                        <Dropdown.Item eventKey=\"status unassigned\">\n                            <Checkmark name=\"unassigned\" id=\"checkbox-unassigned\" checked={props.filters.status.unassigned} />\n                            <label htmlFor=\"checkbox-unassigned\">Unassigned</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"status open\">\n                            <Checkmark name=\"open\" id=\"checkbox-open\" checked={props.filters.status.open} />\n                            <label htmlFor=\"checkbox-open\">Open</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"status inprogress\">\n                            <Checkmark name=\"inprogress\" id=\"checkbox-inprogress\" checked={props.filters.status.inprogress} />\n                            <label htmlFor=\"checkbox-inprogress\">In-progress</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"status resolved\">\n                            <Checkmark name=\"resolved\" id=\"checkbox-resolved\" checked={props.filters.status.resolved} />\n                            <label htmlFor=\"checkbox-resolved\">Resolved</label>\n                        </Dropdown.Item>\n                        <Dropdown.Item eventKey=\"status closed\">\n                            <Checkmark name=\"closed\" id=\"checkbox-closed\" checked={props.filters.status.closed} />\n                            <label htmlFor=\"checkbox-closed\">Closed</label>\n                        </Dropdown.Item>\n                        <Dropdown.ItemText onClick={() => { handleToggleFilterKey(\"status\") }}>{isCleared() ? \"All\" : \"Clear\"}</Dropdown.ItemText>\n                    </div>\n                    <Dropdown.ItemText onClick={handleToggleAll}>{isCleared() ? \"Check All\" : \"Clear All\"}</Dropdown.ItemText>\n                </div>\n            </DropdownButton>\n        </ButtonGroup>\n    )\n}\n\nexport default IssueFilterControl;","import React, { useState, useRef, useEffect } from 'react';\nimport { Col } from 'react-bootstrap';\nimport './withEdit.css';\n\nconst withEdit = (WrappedComponent, type) => (\n    ({ onEdit, name, isEditing = false, ...props }) => { // isEditing prop is used to force editing mode from outside\n        const [editing, setEditing] = useState(isEditing);\n        const [value, setValue] = useState(props.value);\n        const inputRef = useRef();\n\n        useEffect(() => {\n            inputRef && inputRef.current && inputRef.current.focus();\n        }, [editing, isEditing]);\n\n        const handleClick = () => {\n            if(isEditing) return;\n            setEditing(true);\n        }\n\n        const handleKeyPress = (e) => {\n            if(e.key === \"Enter\") {\n                handleSubmit(e);\n            }\n        }\n\n        const handleChange = (e) => {\n            setValue(e.target.value);\n        }\n\n        const handleBlur = () => {\n            (props.onBlur && props.onBlur()) || setEditing(false);\n        }\n\n        const handleSubmit = (e) => {\n            e.preventDefault();\n            onEdit({ [inputRef.current.name]: value });\n            setEditing(false);\n        }\n\n        const inputComponent = () => {\n            if(type === \"text\") {\n                return (\n                    <input \n                        ref={inputRef} \n                        name={name}\n                        type={type} \n                        defaultValue={value} \n                        onChange={handleChange} \n                    />\n                )\n            } else if(type === \"textarea\") {\n                return (\n                    <textarea \n                        ref={inputRef}\n                        name={name} \n                        defaultValue={value} \n                        rows={5}\n                        cols={75}\n                        onChange={handleChange} \n                        onKeyPress={handleKeyPress}\n                    />\n                )\n            } else if(type === \"select\") {\n                return (\n                    <select\n                        ref={inputRef}\n                        name={name}\n                        defaultValue={value}\n                        onChange={handleChange}\n                        onKeyPress={handleKeyPress}\n                    >\n                        {\n                            props.options && props.options.map((opt, idx) => (\n                                <option key={idx} value={opt}>\n                                    {opt}\n                                </option>\n                            ))\n                        }\n                    </select>\n                )\n            }\n            return null;\n        }\n\n        return editing ? (\n            <Col xs={props.xs} sm={props.sm} md={props.md} lg={props.lg}>\n                <form onBlur={handleBlur} onSubmit={handleSubmit}>\n                    {inputComponent()}\n                </form>\n            </Col>\n        ) : (\n            <div className=\"component-wrapper\">\n                <WrappedComponent {...props} onClick={handleClick}>\n                    {props.children}\n                </WrappedComponent>\n            </div>\n        )\n    }\n)\n\nexport default withEdit;","const getNthIndexOf = (string, searchTerm, n) => {\n    let i = 0, index = 0;\n\n    while(i < n && index >= 0) {\n        index = string.indexOf(searchTerm, index + 1);\n        i++;\n    }\n\n    return index;\n}\n\nexport const removeTimezoneFromDateString = (dateString) => {\n    const index = getNthIndexOf(dateString, \" \", 5);\n    const res = dateString.slice(0, index);\n    return res;\n} \n","export default __webpack_public_path__ + \"static/media/edit-icon-png-small.4aeb2e4d.png\";","import React, { useState } from 'react';\nimport { Row, Col, Dropdown } from 'react-bootstrap';\nimport List from '../../display/List/List';\nimport withEdit from '../../hocs/withEdit/withEdit';\nimport { removeTimezoneFromDateString } from '../../../utility/strings';\nimport editIcon from '../../../images/edit-icon-png-small.png';\n\n\nconst commentBoxStyle = {\n    width: \"50vw\",\n    height: \"100%\",\n    margin: \"1em\",\n};\n\nconst CustomToggle = React.forwardRef(({ onClick }, ref) => (\n    <img \n        alt=\"\"\n        src={editIcon}\n        width=\"25\"\n        height=\"25\"\n\n        ref={ref}\n        onClick={onClick}\n    />\n));\n\nfunction CommentList(props) {\n    const [editId, setEditId] = useState(null);\n\n    const EditArea = withEdit(Col, 'textarea');\n\n    const handleDropdownSelect = (e, id) => {\n        if(e === \"delete\") return props.onDelete({ commentId: id });\n        if(e === \"edit\") return showEditArea(id);\n    }\n\n    const showEditArea = (commentId) => {\n        setEditId(commentId);\n    } \n\n    const handleEditComment = (comment) => {\n        props.onEdit(editId, comment);\n        setEditId(null);\n    }\n\n    return (\n        <List listItems={props.comments} render={(item) => (\n            <Row style={commentBoxStyle} key={item.id}>\n                <Col lg={11} md={11} sm={10} xs={9}>\n                {\n                    \"Posted By: \" + \n                    item.creator + \n                    \" on \" + \n                    removeTimezoneFromDateString(new Date(item.created_at).toString()) \n                }\n                </Col>\n                <Col lg={1} md={1} sm={2} xs={3}>\n                    <Dropdown onSelect={evt => handleDropdownSelect(evt, item.id)}>\n                        <Dropdown.Toggle as={CustomToggle} />\n\n                        <Dropdown.Menu>\n                            <Dropdown.Item eventKey=\"edit\">Edit</Dropdown.Item>\n                            <Dropdown.Item eventKey=\"delete\">Delete</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Col>\n                <EditArea \n                    lg={11} md={11} sm={11} xs={11}\n                    name=\"body\"\n                    value={item.body}\n                    isEditing={editId === item.id}\n                    onEdit={handleEditComment}\n                    onBlur={() => setEditId(null)}\n                >\n                    {item.body}\n                </EditArea>\n            </Row>\n        )}/>\n    )\n}\n\nexport default CommentList;","import React from 'react';\nimport { Modal, Button } from 'react-bootstrap';\n\nfunction DialogBox({\n    show,\n    heading,\n    closeButtonText,\n    submitButtonText,\n    onSubmit,\n    onClose,\n    render,\n    renderData,\n    formId = null,\n}) {\n    return (\n        <Modal show={show} onHide={onClose}>\n            <Modal.Header closeButton>\n                <Modal.Title>{heading ? heading : \"\"}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{render({ data: renderData })}</Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={onClose}>\n                    {closeButtonText ? closeButtonText : \"Close\"}\n                </Button>\n                <Button variant=\"primary\" type=\"submit\" form={formId} onClick={onSubmit}>\n                    {submitButtonText ? submitButtonText : \"Submit\"}\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\n\nexport default DialogBox;","import { useState } from 'react';\nimport DialogBox from '../components/display/DialogBox/DialogBox';\n\nfunction extractInputValues(nodeList) {\n    if(nodeList.length === 0) return {};\n    const values = {};\n    \n    nodeList.forEach(input => { \n        values[input.name] = input.value;\n    });\n\n    return values;\n}\n\nfunction useDialogBox() {\n    const [visible, setVisible] = useState(false);\n    const [data, setData] = useState({});\n\n    const show = (data) => {\n        setData(data);\n        setVisible(true);\n    }\n\n    const hide = () => {\n        setVisible(false);\n    }\n\n    const RenderDialogBox = (props) => {\n        const handleSubmit = (event) => {\n            const evt = event;\n            evt.preventDefault();\n            const values = evt.target.form && extractInputValues(evt.target.form.childNodes);\n            typeof props.onSubmit === \"function\" && props.onSubmit({ data, values });\n            hide();\n        }\n\n        return <DialogBox {...props} onSubmit={handleSubmit} show={visible} renderData={data} onClose={hide}/>\n    };\n\n    return {\n        show, RenderDialogBox\n    }\n}\n\nexport default useDialogBox;","import React from 'react';\nimport { Nav, Button } from 'react-bootstrap';\n\nimport LinkButton from '../../display/Button/LinkButton';\nimport NavBar from '../../display/NavBar/NavBar';\nimport './Navigation.css';\n\nfunction IssueDetailNavBar({ title, linkUrl, ...props }) {\n    return (\n        <NavBar title={\"Issue: \" + title} {...props} bg=\"light\" sticky=\"top\" render={() => (\n            <Nav>\n                {props.render && typeof props.render === \"function\" && props.render()}\n                <LinkButton variant=\"outline-dark\" to={linkUrl ? linkUrl + \"/new\" : \"./new\"}>Add New Issue</LinkButton>\n            </Nav>\n        )}/>    \n    )\n}\n\n\n\n\nexport default IssueDetailNavBar;","import React, { useState } from 'react';\nimport Upload from '../../form/inputs/Upload/Upload';\nimport './Attachments.css'\n\nfunction Attachments(props) {\n    const [uploading, setUploading] = useState(false);\n    const renderAttachmentItems = () => {\n        const items = [];\n        props.attachments && props.attachments.forEach((attachment, idx) => {\n            items.push(\n                <li key={`attachment-${idx}`}>\n                    <span>{attachment.filename}</span>{\" \"}\n                    <a href={attachment.data} download={attachment.filename}>Download</a>{\" \"}\n                    <button className=\"link\" onClick={() => props.onDelete(attachment.id)}>Remove</button>\n                </li>\n            )\n        });\n        return items;\n    }\n\n    return (\n        <>\n            <ul className=\"attachments-list\">\n                {\n                    renderAttachmentItems()\n                }   \n            </ul>\n            {uploading ? \n                <Upload \n                    sendRequest={props.onCreate}\n                    onComplete={props.onComplete}\n                    onClose={() => { setUploading(false) }}\n                /> \n                : <button \n                    className=\"link\" \n                    onClick={() => { setUploading(true) }}\n                >\n                    Add Attachment\n                </button>\n            }\n        </>\n    );\n}\n\nexport default Attachments;","import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport { Row, Col } from 'react-bootstrap';\nimport { IssueSchema } from '../../utility/schema/validation';\n\nfunction EditIssueDetailsForm(props) {\n    return(\n        <Formik\n            initialValues={{ \n                title: props.initialTitle,\n                description: props.initialDescription,\n                category: props.initialCategory,\n                priority: props.initialPriority\n            }}\n            onSubmit={(values) => {\n                props.onSubmit(values);\n            }}\n            validationSchema={IssueSchema}\n        >\n            {() => (\n                <Form id=\"edit-issue-form\" >\n                    <Row className=\"justify-content-center title\">\n                        <Col>\n                            <Field name=\"title\" type=\"text\" className=\"form-input\" />\n                            <span className=\"form-error\">\n                                <ErrorMessage name=\"title\" />\n                            </span>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Col lg={4} md={4} sm={4} xs={4}>\n                            <label htmlFor=\"description\">Description</label>\n                        </Col>\n                        <Col lg={6} md={6} sm={6} xs={6}>\n                            <Field name=\"description\" as=\"textarea\" className=\"form-input\" />\n                            <span className=\"form-error\">\n                                <ErrorMessage name=\"description\" className=\"form-error\" />\n                            </span>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Col lg={4} md={4} sm={4} xs={4}>\n                            <label htmlFor=\"category\">Category</label>\n                        </Col>\n                        <Col lg={6} md={6} sm={6} xs={6}>\n                            <Field name=\"category\" as=\"select\" className=\"form-input\">\n                                <option value=\"bug\">Bug</option>\n                                <option value=\"feature\">Feature</option>\n                                <option value=\"task\">Task</option>\n                                <option value=\"other\">Other</option>\n                            </Field>\n                            <span className=\"form-error\">\n                                <ErrorMessage name=\"category\" className=\"form-error\" />\n                            </span>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Col lg={4} md={4} sm={4} xs={4}>\n                            <label htmlFor=\"priority\">Priority</label>\n                        </Col>\n                        <Col lg={6} md={6} sm={6} xs={6}>\n                            <Field name=\"priority\" as=\"select\" className=\"form-input\">\n                                <option value=\"trivial\">Trivial</option>\n                                <option value=\"low\">Low</option>\n                                <option value=\"regular\">Regular</option>\n                                <option value=\"high\">High</option>\n                                <option value=\"critical\">Critical</option>\n                            </Field>\n                            <span className=\"form-error\">\n                                <ErrorMessage name=\"priority\" className=\"form-error\" />\n                            </span>\n                        </Col>\n                    </Row>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport default EditIssueDetailsForm;","import React, { useState } from 'react';\nimport { Container, Row, Col, Button, Form } from 'react-bootstrap';\nimport CommentList from '../../components/app/CommentList/CommentList';\nimport useResource from '../../hooks/useResource';\nimport useAuth from '../../hooks/useAuth';\nimport useDialogBox from '../../hooks/useDialogBox';\nimport withEdit from '../../components/hocs/withEdit/withEdit';\nimport issuesApi from '../../api/issues';\nimport IssueDetailNavBar from '../../components/app/Navigation/IssueDetailNavBar';\nimport Attachments from '../../components/app/Attachments/Attachments';\nimport LinkButton from '../../components/display/Button/LinkButton';\nimport { removeTimezoneFromDateString } from '../../utility/strings';\nimport './IssueDetails.css';\nimport EditIssueDetailsForm from '../../components/form/EditIssueDetailsForm';\n\nfunction IssueDetails({ issue, onEdit, ...props }) {\n    const auth = useAuth();\n    const [attachments, setAttachments, getAttachments] = useResource(\n        `/api/projects/${props.match.params.projectId}/issues/${props.match.params.issueId}/attachments`,\n        auth.user ? auth.user.token : null,\n        issue.attachmentHandles\n    )\n    const [comments, setComments] = useResource(\n        `/api/projects/${props.match.params.projectId}/issues/${props.match.params.issueId}/comments`,\n        auth.user ? auth.user.token : null\n    );\n    const [editMode, setEditMode] = useState(false);\n    const { show: showDeleteCommentDialogBox, RenderDialogBox: DeleteCommentDialogBox } = useDialogBox();\n\n    const EditSelect = withEdit(Col, \"select\");\n\n    const handleEditIssue = async (values) => {\n        //Remove the fields that have not been changed\n        for(let key in values) \n            if(values[key] === issue[key]) delete values[key];\n\n        await onEdit(props.match.params.projectId, issue.id, values);\n\n        setEditMode(false);\n    }\n\n    const handleAddComment = async (e) => {\n        e.preventDefault();\n        const commentData = e.target[1].value\n        const newComment = await issuesApi.addComment(props.match.params.projectId, issue.id, commentData, auth.user.token);\n        setComments(prev => {\n            const comments = prev.data.slice();\n            comments.push(newComment);\n            return { ...prev, data: comments }\n        });\n        const commentBox = document.querySelector(\"textarea#comment\");\n        commentBox.value = \"\";\n    }\n\n    const handleDeleteComment = async ({ data }) => {\n        console.log(\"Deleting comment\", data);\n        await issuesApi.deleteComment(props.match.params.projectId, issue.id, data.commentId, auth.user.token);\n        setComments(prev => {\n            const comments = prev.data.slice();\n            const commentIdx = comments.findIndex(comment => comment.id === data.commentId);\n            if(commentIdx !== -1) comments.splice(commentIdx, 1);\n            return { ...prev, data: comments };\n        })\n    }\n\n    const handleEditComment = async (commentId, commentData) => {\n        const comment = await issuesApi.updateComment(\n            props.match.params.projectId, \n            issue.id, \n            commentId, \n            commentData.body, \n            auth.user.token\n        );\n        setComments(prev => {\n            const comments = prev.data.slice();\n            const commentIdx = comments.findIndex(comment => comment.id === commentId);\n            comments[commentIdx] = comment;\n            return { ...prev, data: comments };\n        })\n    }\n\n    const advanceButtonText = (issue.status === \"unassigned\") ? \"Assign Issue\" :\n        (issue.status === \"open\") ? \"Advance Issue\" :\n        (issue.status === \"inprogress\") ? \"Close Issue\" : \n        issue.status;\n\n    const handleAdvanceIssue = () => {\n        if(issue.status === \"unassigned\") return props.onAssign({ projectId: props.match.params.projectId, issueId: issue.id });\n        if(issue.status === \"open\") return props.onStart({ projectId: props.match.params.projectId, issueId: issue.id });\n        return props.onClose({ projectId: props.match.params.projectId, issueId: issue.id });\n    }\n\n    return (\n        <>\n            <IssueDetailNavBar title={issue.title} render={() => {\n                return (\n                    <> \n                        <Button\n                            className=\"stick-left\"\n                            onClick={() => { props.history.goBack() }\n                        }>Back to All Issues</Button>\n                        {editMode &&\n                            <>\n                                <Button\n                                    variant=\"outline-dark\" \n                                    className=\"mx-1\" \n                                    form=\"edit-issue-form\"\n                                    type=\"submit\"\n                                >\n                                    Save\n                                </Button>\n                            \n                                <Button\n                                    variant=\"outline-dark\" \n                                    className=\"mx-1\" \n                                    onClick={() => setEditMode(false)}\n                                >\n                                    Cancel\n                                </Button>\n                            </>\n                        }\n                        {!editMode &&\n                            <Button \n                                variant=\"outline-dark\" \n                                className=\"mx-1\" \n                                onClick={() => { setEditMode(true) }}\n                            >\n                                Edit\n                            </Button>\n                        }\n                    </>\n                )\n            }}/>\n            <Container className=\"IssueDetails\" fluid>\n                <DeleteCommentDialogBox \n                    heading=\"Delete Project\"\n                    closeButtonText=\"Cancel\"\n                    submitButtonText=\"Delete\"\n                    onSubmit={handleDeleteComment}\n                    render={({ data }) => 'Are you sure you would like to delete this comment: ' + data.commentId + '?'}\n                />\n                {editMode ?\n                    <EditIssueDetailsForm \n                        initialTitle={issue.title} \n                        initialDescription={issue.description}\n                        initialCategory={issue.category}\n                        initialPriority={issue.priority}\n                        onSubmit={handleEditIssue}\n                    /> \n                    : \n                    <>\n                        <Row className=\"justify-content-center title\">\n                            <h3>{issue.title}</h3>\n                        </Row>\n\n                        <Row>\n                            <Col lg={4} md={4} sm={4} xs={4}>Description</Col>\n                            <Col \n                                as=\"p\" lg={6} md={6} sm={6} xs={6}\n                                name=\"description\" \n                            >\n                                {issue.description}\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col lg={4} md={4} sm={4} xs={4}>Category</Col>\n                            <EditSelect \n                                as=\"p\" lg={6} md={6} sm={6} xs={6}\n                                value={issue.category} \n                                name=\"category\" \n                                onEdit={handleEditIssue} \n                                options={[\"bug\", \"feature\", \"task\", \"other\"]}\n                            >\n                                {issue.category}\n                            </EditSelect>\n                        </Row>\n\n                        <Row>\n                            <Col lg={4} md={4} sm={4} xs={4}>Priority</Col>\n                            <EditSelect \n                                as=\"p\" lg={6} md={6} sm={6} xs={6}\n                                value={issue.priority} \n                                name=\"priority\" \n                                onEdit={handleEditIssue} \n                                options={[\"critical\", \"high\", \"regular\", \"low\", \"trivial\"]}\n                            >\n                                {issue.priority}\n                            </EditSelect>\n                        </Row>\n                    </>\n                }\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Status</Col>\n                    <Col as=\"p\" lg={6} md={6} sm={6} xs={6}>\n                        {issue.status}\n                        {\n                            <Button \n                                className=\"mx-1\" size=\"sm\" \n                                hidden={issue.status === \"resolved\" || issue.status === \"closed\"}\n                                onClick={handleAdvanceIssue}\n                            >\n                                {advanceButtonText}\n                            </Button>\n                        } \n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Created on</Col>\n                    <Col as=\"p\" lg={6} md={6} sm={6} xs={6}>{removeTimezoneFromDateString(new Date(issue.created_at).toString())}</Col>\n                </Row>\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Created by</Col>\n                    <Col as=\"p\" lg={6} md={6} sm={6} xs={6}>{issue.creator}</Col>\n                </Row>\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Assigned to</Col>\n                    <Col as=\"p\" lg={6} md={6} sm={6} xs={6}>{issue.assignee ? issue.assignee : \"Unassigned\"}</Col>\n                </Row>\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Assigned on</Col>\n                    <Col as=\"p\" lg={6} md={6} sm={6} xs={6}>{(issue.opened_at) ? removeTimezoneFromDateString(new Date(issue.opened_at).toString()) : \"N/A\"}</Col>\n                </Row>\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Resolved/Closed on</Col>\n                    <Col as=\"p\" lg={6} md={6} sm={6} xs={6}>{(issue.closed_at) ? removeTimezoneFromDateString(new Date(issue.closed_at).toString()) : \"N/A\"}</Col>\n                </Row>\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Attachments</Col>\n                    <Col lg={6} md={6} sm={6} xs={6} id=\"attachments-content\">\n                        <Attachments \n                            attachments={attachments.data}\n                            onCreate={(file, progressCb) => (\n                                props.onCreateAttachmentRequest(\n                                    props.match.params.projectId,\n                                    issue.id,\n                                    file,\n                                    progressCb\n                                )\n                            )}\n                            onComplete={(attachmentHandles) => {\n                                console.log(attachmentHandles);\n                                props.onAddAttachment(\n                                    props.match.params.projectId,\n                                    issue.id, \n                                    attachmentHandles\n                                )\n                                getAttachments();\n                            }}\n                        />\n                    </Col>\n                </Row>\n\n                <LinkButton to={`${issue.id}/log`} className=\"my-3\">View Issue Log</LinkButton>\n\n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>\n                        <Button variant=\"outline-primary\" type=\"submit\" form=\"add-comment\">Add Comment</Button>\n                    </Col>\n                    <Col lg={4} md={4} sm={4} xs={4}>\n                        <Form id=\"add-comment\" onSubmit={handleAddComment}>\n                            <Form.Group controlId=\"comment\">\n                                <Form.Control as=\"textarea\" placeholder=\"Enter comment\" />\n                            </Form.Group>\n                        </Form>\n                    </Col>\n                </Row>\n                \n                <Row>\n                    <Col lg={4} md={4} sm={4} xs={4}>Comments</Col>\n                    <CommentList \n                        comments={comments.data} \n                        onEdit={handleEditComment} \n                        onDelete={showDeleteCommentDialogBox}\n                    />\n                </Row>\n\n            </Container>\n        </>\n    );\n}\n\nexport default IssueDetails;","const paramKey = \"list_filter_params\";\n\nexport function setLocalParamStorage(params) {\n    localStorage.setItem(paramKey, JSON.stringify(params));\n}\n\nexport function getLocalParamStorage() {\n    return JSON.parse(localStorage.getItem(paramKey));\n}\n\nexport function removeLocalParamStorage() {\n    localStorage.removeItem(paramKey);\n}","import { useState, useEffect } from 'react';\nimport { setLocalParamStorage, getLocalParamStorage } from '../utility/local/paramStorage';\n\nfunction useListParams(initialParams) {\n    const [listParams, setListParams] = useState(initialParams);\n\n    // Check local storage for list params, if none then set to initialParams prop\n    useEffect(() => {\n        const store = getLocalParamStorage();\n        if(!store) {\n            setLocalParamStorage(initialParams);\n        } else {\n            setListParams(store);\n        }\n    // eslint-disable-next-line\n    }, []);\n\n    // Save updated list params to local storage\n    useEffect(() => {\n        setLocalParamStorage(listParams);\n    }, [listParams]);\n\n    function handleChange(param, value) {\n        setListParams(prev => ({ ...prev, [param]: value}));\n    }\n\n    return [listParams, handleChange];\n}\n\nexport default useListParams;","import React from 'react';\nimport { Formik, Form, Field } from 'formik';\n\nfunction SelectForm({ formId, fieldName, selectItems, itemKey, initialValues, onSubmit }) {\n    const selectOptions = selectItems.map((item, idx) => (\n        <option id={`option${idx}`} key={`option${idx}`} value={item.id}>{item[itemKey]}</option>\n    ));\n\n    return(\n        <Formik\n            initialValues={initialValues}\n            onSubmit={onSubmit}\n        >\n            {() => {\n                return (\n                    <Form id={formId}>\n                        <Field name={fieldName} as=\"select\">\n                            {selectOptions}\n                        </Field>\n                    </Form>\n                )\n        }}\n        </Formik>\n    )\n}\n\nexport default SelectForm;","import React from 'react'\nimport { Form, FormControl, Button } from 'react-bootstrap';\n\nfunction InlineSearch(props) {\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        props.onSubmit(e.target.firstChild.value);\n    }\n\n    return (\n        <Form inline noValidate onSubmit={handleSubmit} className={props.className}>\n            <FormControl type=\"text\" name=\"search\" placeholder=\"Search\" className=\"mr-sm-2\" />\n            <Button type=\"submit\" variant=\"outline-info\">Search</Button>\n        </Form>\n    )\n\n}\n\nexport default InlineSearch;","export default class CollabInfo {\n    constructor(collabArray) {\n        this.collaborators = collabArray;\n    }\n\n    get(collabId) {\n        if(this.collaborators.length === 0) return;\n        return this.collaborators.find(collab => collab.id === collabId);\n    }\n}","export const projectLogItemText = (logAction, logCreatedBy, logCollaborator, logDate, logData) => {\n    let text = \"\";\n    switch(logAction) {\n        case 'INSERT_ISSUE':\n            text += logCreatedBy.userName;\n            text += \" created an issue (#\";\n            text += logData.newData.issueId;\n            text += \") for this project - \";\n            break;\n        case 'RESOLVE_ISSUE':\n            text += logCreatedBy.userName;\n            text += \" resolved an issue (#\";\n            text += logData.newData.issueId;\n            text += \") for this project - \";\n            break;\n        case 'DELETE_ISSUE':\n            text += logCreatedBy.userName;\n            text += \" deleted an issue (#\";\n            text += logData.oldData.issueId;\n            text += \") for this project - \";\n            break;\n        case 'UPDATE':\n            text += logCreatedBy.userName;\n            text += \" updated the details of this project - \";\n            break;\n        case 'ADD_COLLAB':\n            text += logCreatedBy.userName;\n            text += \" added \";\n            text += logCollaborator.userName;\n            text += \" to this project - \";\n            break;\n        case 'REMOVE_COLLAB':\n            text += logCreatedBy.userName;\n            text += \" removed \";\n            text += logCollaborator.userName;\n            text += \" from this project - \";\n            break;\n        case 'INSERT':\n            text += logCreatedBy.userName;\n            text += \" created this project - \";\n            break;\n        case 'DELETE':\n            text += logCreatedBy.userName;\n            text += \" deleted this project - \";\n            break;\n        default:\n            break;\n    }\n    text += logDate;\n    return text;\n}\n\nconst getChanges = (oldData, newData) => {\n    const _oldData = JSON.parse(oldData);\n    const _newData = JSON.parse(newData)\n    const keys = Object.keys(_oldData);\n    const changes = {};\n    for(let key of keys) {\n        if(_oldData[key] !== _newData[key]) {\n            changes[key] = {\n                oldData: _oldData[key],\n                newData: _newData[key]\n            };\n        }\n    }\n    return changes;\n}\n\nexport const issueLogItemText = (logAction, logCreatedBy, logDate, logDataOld, logDataNew) => {\n    let text = \"\";\n    switch(logAction) {\n        case 'INSERT':\n            text += logCreatedBy.userName;\n            text += \" created this issue - \";\n            text += logDate;\n            break;\n        case 'UPDATE':\n            text += logCreatedBy.userName;\n            const changes = getChanges(logDataOld, logDataNew);\n            const changedKeys = Object.keys(changes).filter(key => key !== \"assigneeId\" || key !== \"creatorId\");\n            let i = 0;\n            for(let key of changedKeys) {\n                if(key === \"assignee\") text += \" assigned this issue \";\n                else text += \" changed the \" + key + \" of this issue\";\n                text += \" to '\" + changes[key].newData + \"'\";\n                text += (++i < changedKeys.length) ? \" and \" : \"\";\n            }\n            text += \" - \" + logDate;\n            break;\n        case 'DELETE':\n            text += logCreatedBy.userName;\n            text += \" deleted this issue - \";\n            text += logDate;\n            break;\n        default:\n            break;\n    }\n    return text;\n}","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport { useAuth, useResource } from '../../hooks';\nimport List from '../../components/display/List/List';\nimport CollabInfo from '../../utility/CollabInfo';\nimport { removeTimezoneFromDateString } from '../../utility/strings';\nimport { issueLogItemText } from '../../utility/log';\n\nfunction IssueLog(props) {\n    const auth = useAuth();\n    const [log, ] = useResource(\n        `/api/projects/${props.match.params.projectId}/issues/${props.match.params.issueId}/reports`,\n        auth.user ? auth.user.token : null\n    )\n\n    const renderLogItem = (item) => {\n        if(!item || !props.collaborators || props.collaborators.length === 0) return null;\n        const date = removeTimezoneFromDateString(new Date(item.createdAt).toString());\n        const collabInfo = new CollabInfo(props.collaborators);\n        const createdBy = collabInfo.get(item.createdBy);\n        const text = issueLogItemText(item.action, createdBy, date, item.oldData, item.newData)\n        return <div>{text}</div>\n    }\n\n    return (\n        <Container fluid>\n            <List listItems={log.data} render={renderLogItem}/>\n        </Container>\n    )\n}\n\nexport default IssueLog;","import React, { useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { Container, Button } from 'react-bootstrap';\n\nimport useAuth from '../../hooks/useAuth';\nimport useResource from '../../hooks/useResource';\n\nimport IssueNavBar from '../../components/app/Navigation/IssueNavBar';\nimport IssueList from '../../components/app/IssueList/IssueList';\nimport IssueFilterControl from '../../components/app/IssueFilterControl/IssueFilterControl';\nimport IssueDetails from '../../pages/IssueDetails/IssueDetails';\n\nimport useDialogBox from '../../hooks/useDialogBox';\nimport useListParams from '../../hooks/useListParams';\nimport SelectForm from '../../components/form/SelectForm';\nimport InlineSearch from '../../components/form/InlineSearch';\nimport IssueDetailNavBar from '../../components/app/Navigation/IssueDetailNavBar';\nimport IssueLog from '../IssueLog/IssueLog';\nimport useNotificationBanner from '../../hooks/useNotificationBanner';\n\nconst initialFilterValue = {\n    category: {\n        bug: true, \n        feature: true,\n        task: true,\n        other: true\n    },\n    priority: {\n        critical: true,\n        high: true,\n        regular: true,\n        low: true,\n        trivial: true\n    },\n    status: {\n        unassigned: true,\n        open: true,\n        inprogress: true,\n        resolved: true,\n        closed: true\n    }\n}\n\nfunction IssueDashboard({ issues, ...props }) {\n    const auth = useAuth();\n    const notificationBanner = useNotificationBanner();\n    const [collaborators, ] = useResource(\n        `/api/projects/${props.match.params.projectId}/collaborators`,\n        auth.user ? auth.user.token : null\n    );\n    const { show: showDeleteIssueDialogBox, RenderDialogBox: DeleteIssueDialogBox } = useDialogBox();\n    const { show: showAssignIssueDialogBox, RenderDialogBox: AssignIssueDialogBox } = useDialogBox();\n    const { show: showStartIssueDialogBox, RenderDialogBox: StartIssueDialogBox } = useDialogBox();\n    const { show: showCloseIssueDialogBox, RenderDialogBox: CloseIssueDialogBox } = useDialogBox();\n    const [listParams, changeListParams] = useListParams({ order: \"desc\", group: \"category\", filter: initialFilterValue, search: \"\" });\n\n    const handleDeleteIssue = async ({ data }) => {\n        await props.onDelete(data.projectId, data.issueId);\n        notificationBanner.showNotificationWithText(\"Issue Successfully Deleted!\");\n    }\n\n    const handleAssignIssue = async ({ data, values }) => {\n        await props.onAssign(data.projectId, data.issueId, values.collaboratorId);\n        notificationBanner.showNotificationWithText(\"Issue Successfully Assigned!\")\n    }\n\n    const handleStartIssue = async ({ data }) => {\n        await props.onStart(data.projectId, data.issueId);\n        notificationBanner.showNotificationWithText(\"Issue Successfully Advanced to In-Progress!\");\n    }\n\n    const handleCloseIssue = async ({ data, values }) => {\n        await props.onClose(data.projectId, data.issueId, values.status);\n        notificationBanner.showNotificationWithText(\"Issue Completed!\");\n    }\n    \n    return (\n        <>\n            <DeleteIssueDialogBox\n                heading=\"Delete Issue\"\n                submitButtonText=\"Delete\"\n                onSubmit={handleDeleteIssue}\n                render={({ data }) => (\n                    'Are you sure you would like to delete issue ' + data.issueId\n                )}\n            />\n            <AssignIssueDialogBox\n                heading=\"Assign Issue\"\n                submitButtonText=\"Assign\"\n                formId=\"project-collaborators\"  \n                onSubmit={handleAssignIssue}\n                render={() => (\n                    <SelectForm \n                        formId=\"project-collaborators\"  \n                        fieldName=\"collaboratorId\"\n                        initialValues={{ \"collaboratorId\": \"\"}} \n                        selectItems={collaborators.data} \n                        itemKey=\"userName\"\n                    />\n                )}\n            />\n            <StartIssueDialogBox\n                heading=\"Begin Issue\"\n                submitButtonText=\"Advance\"\n                onSubmit={handleStartIssue}\n                render={({ data }) => 'Are you sure you would like to begin issue ' + data.issueId + '? The status of this issue will be advanced to \"inprogress\".'}\n            />\n            <CloseIssueDialogBox\n                heading=\"Complete Issue\"\n                submitButtonText=\"Complete\"\n                formId=\"complete-status\"  \n                onSubmit={handleCloseIssue}\n                render={() => (\n                    <>\n                        <div>Please select how you would like to complete this issue? </div>\n                        <SelectForm \n                            formId=\"complete-status\"  \n                            fieldName=\"status\"\n                            initialValues={{ \"status\": \"\"}} \n                            selectItems={[{ status: \"closed\" }, { status: \"resolved\" }]} \n                            itemKey=\"status\"\n                        />\n                    </>\n                )}\n            />\n            <Switch>\n                <Route path={props.match.path} exact render={() => (\n                    <>\n                        <IssueNavBar render={() => (\n                            <>\n                                <Button \n                                    className=\"stick-left\" \n                                    variant=\"outline-primary\"\n                                    onClick={() => { props.history.push('/projects') }}\n                                >\n                                    Back to Projects\n                                </Button>\n                                <InlineSearch \n                                    className=\"search-bar\"\n                                    onSubmit={(searchText) => { changeListParams(\"search\", searchText) }}\n                                />\n                                <IssueFilterControl \n                                    className=\"filter-controls\"\n                                    filters={listParams.filter}\n                                    onSelect={changeListParams}\n                                />\n                            </>\n                        )}/>\n                        <Container fluid className=\"page light\">\n                            <IssueList \n                                projectId={props.match.params.projectId} \n                                collaborators={collaborators.data}\n                                issueList={issues}\n\n                                groupBy={listParams.group}\n                                orderBy={listParams.order}\n                                filter={listParams.filter}\n                                searchText={listParams.search}\n                                searchKeys={[\"title\", \"description\"]}\n\n                                onDelete={showDeleteIssueDialogBox}\n                                onAssign={showAssignIssueDialogBox}\n                                onStart={showStartIssueDialogBox}\n                                onClose={showCloseIssueDialogBox}\n                            />\n                        </Container>\n                    </>\n                )}/>\n                <Route path={`${props.match.path}/:issueId`} exact render={(routerProps) => {\n                    const issueIdx = issues.findIndex(iss => iss.id === Number(routerProps.match.params.issueId));\n                    const issue = (issueIdx !== -1) ? issues[issueIdx] : null; \n                    if(!issue) return;\n                    return (\n                        <>\n                            <IssueDetails \n                                {...routerProps} \n                                issue={issue}\n                                collaborators={collaborators.data}\n                                onEdit={props.onEdit}\n                                onDelete={showDeleteIssueDialogBox}\n                                onAssign={showAssignIssueDialogBox}\n                                onStart={showStartIssueDialogBox}\n                                onClose={showCloseIssueDialogBox}\n                                onCreateAttachmentRequest={props.onCreateAttachmentRequest}\n                                onAddAttachment={props.onAddAttachment}\n                            />\n                        </>\n                    )\n                }} />\n                <Route path={`${props.match.path}/:issueId/log`} exact render={(routerProps) => {\n                    const issueIdx = issues.findIndex(iss => iss.id === Number(routerProps.match.params.issueId));\n                    const issue = (issueIdx !== -1) ? issues[issueIdx] : null; \n                    const urlParts = routerProps.match.url.split('/');\n                    urlParts.pop(); urlParts.pop(); // Remove last two elements( ':issueId/log' ) from url\n                    if(!issue) return;\n                    return (\n                        <>\n                            <IssueDetailNavBar title={issue.title} linkUrl={urlParts.join(\"/\")} render={() => {\n                                return (\n                                    <Button \n                                        className=\"stick-left\" \n                                        onClick={() => { props.history.goBack() }}\n                                    >Back to Issue Details</Button>\n                                )\n                            }}/>\n                            <IssueLog collaborators={collaborators.data} {...routerProps} />\n                        </>\n                    )\n                }} />\n            </Switch>\n        </>\n    )\n}\n\nexport default IssueDashboard;","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport useResource from '../../hooks/useResource';\nimport useAuth from '../../hooks/useAuth';\nimport projectsApi from '../../api/projects';\nimport withEdit from '../../components/hocs/withEdit/withEdit';\nimport List from '../../components/display/List/List';\nimport CollabInfo from '../../utility/CollabInfo';\nimport { removeTimezoneFromDateString } from '../../utility/strings';\nimport { projectLogItemText } from '../../utility/log';\n\nfunction ProjectDetails({project, ...props}) {\n    const auth = useAuth();\n    const [collaborators, ] = useResource(\n        `/api/projects/${props.match.params.projectId}/collaborators`,\n        auth.user ? auth.user.token : null\n    );\n    const [log, ] = useResource(\n        `/api/projects/${props.match.params.projectId}/reports`,\n        auth.user ? auth.user.token : null\n    )\n\n    const EditBox = withEdit(Col, \"text\");\n    const EditArea = withEdit(Col, \"textarea\");\n\n    const handleEdit = async (value) => {\n        const result = await projectsApi.updateProject(props.match.params.projectId, auth.user.token, value);\n        console.log(result);\n    }\n\n    const renderLogItem = (item) => {\n        if(!item || !props.collaborators || props.collaborators.length === 0) return null;\n        const date = removeTimezoneFromDateString(new Date(item.createdAt).toString());\n        const collabInfo = new CollabInfo(collaborators.data);\n        const createdBy = collabInfo.get(item.createdBy);\n        const { collaboratorId } = JSON.parse(item.newData || item.oldData);\n        const oldData = JSON.parse(item.oldData);\n        const newData = JSON.parse(item.newData);\n        const collaborator = collabInfo.get(collaboratorId);\n        const text = projectLogItemText(item.action, createdBy, collaborator, date, { oldData, newData });\n        return <div>{text}</div>\n    }\n\n    return (\n        <Container fluid>\n                <Row className=\"justify-content-center\">\n                    <EditBox as=\"h3\" value={project.name} name=\"name\" onEdit={handleEdit}>\n                        {project.name}\n                    </EditBox>\n                </Row>\n                \n                <Row className=\"justify-content-center\">\n                    <EditArea as=\"p\" value={project.description} name=\"description\" onEdit={handleEdit}>\n                        {project.description}\n                    </EditArea>\n                </Row>\n\n                <Row>\n                    <Col as=\"h5\">Collaborators:</Col>\n                </Row>\n                \n                {\n                    collaborators && collaborators.data.map((collab, key) => {\n                        return (\n                            <Row key={key}>\n                                <Col style={{ textAlign: \"right\" }}>{`${collab.firstName} ${collab.lastName}`}</Col>\n                                <Col style={{ textAlign: \"left\" }}>{collab.userName}</Col>\n                            </Row>\n                        )\n                    })\n                }\n\n                <Row>\n                    <Col as=\"h5\">Issues:</Col>\n                </Row>\n                <Row style={{ justifyContent: \"center\" }}>{`There are ${project.issues && project.issues.length} issues related to this project`}</Row>\n\n                <Row style={{ justifyContent: \"center\" }}>\n                    <Col as=\"h5\">Project Log:</Col>\n                </Row>\n                <Row style={{ justifyContent: \"center\" }}>\n                    <List listItems={log.data} render={renderLogItem}/>\n                </Row>\n                <Row>{}</Row>\n        </Container>\n    );\n}\n\nexport default ProjectDetails;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { Container } from 'react-bootstrap';\n\nimport useAuth from '../../hooks/useAuth';\nimport useProjects from '../../hooks/useProjects';\nimport useResource from '../../hooks/useResource';\n\nimport ProjectsNavBar from '../../components/app/Navigation/ProjectsNavBar';\nimport ProjectList from '../../components/app/ProjectList/ProjectList';\n\nimport NewProjectPage from '../../pages/NewProjectPage/NewProjectPage';\nimport NewIssuePage from '../../pages/NewIssuePage/NewIssuePage';\nimport IssueDashboard from '../../pages/IssueDashboard/IssueDashboard';\nimport ProjectDetails from '../../pages/ProjectDetails/ProjectDetails';\n\nimport useDialogBox from '../../hooks/useDialogBox';\nimport SelectForm from '../../components/form/SelectForm';\nimport useNotificationBanner from '../../hooks/useNotificationBanner';\n\nfunction ProjectDashboard({ match }) {\n    const auth = useAuth();\n    const projects = useProjects();\n    const notificationBanner = useNotificationBanner();\n    const [collaborators, ] = useResource('/api/user/all', auth.user ? auth.user.token : null);\n    const { show: showDeleteProjectDialogBox, RenderDialogBox: DeleteDialogBox } = useDialogBox(); \n    const { show: showAddCollaboratorDialogBox, RenderDialogBox: AddCollaboratorDialogBox } = useDialogBox(); \n\n    return (\n        <>\n            <DeleteDialogBox\n                heading=\"Delete Project\"\n                closeButtonText=\"Cancel\"\n                submitButtonText=\"Delete\"\n                onSubmit={async (project) => {\n                    await projects.handleDeleteProject(project);\n                    notificationBanner.showNotificationWithText(\"Project Successfully Deleted!\");\n                }}\n                render={({ data }) => 'Are you sure you would like to delete project with id ' + data.projectId + '?'}\n            />\n            <AddCollaboratorDialogBox\n                heading=\"Add Collaborator\"\n                submitButtonText=\"Add\"\n                formId=\"collaborator-select-form\"\n                onSubmit={async (data) => {\n                    await projects.handleAddCollaborator(data);\n                    notificationBanner.showNotificationWithText(\"Collaborator Successfully Added to Project!\");\n                }}\n                render={() => (\n                    <SelectForm \n                        formId=\"collaborator-select-form\"\n                        fieldName=\"collaboratorId\"\n                        initialValues={{ \"collaboratorId\": \"\" }}\n                        selectItems={collaborators.data} \n                        itemKey=\"userName\"\n                    />\n                )}\n            />\n            <Switch>\n                <Route path={match.url} exact render={() => (\n                    <>\n                    <ProjectsNavBar />\n                        <Container className=\"page light\" fluid>\n                            <ProjectList \n                                projectList={projects.data} \n                                onDelete={showDeleteProjectDialogBox} \n                                onEdit={projects.handleEditProject} \n                                onAddCollaborator={showAddCollaboratorDialogBox} \n                            />\n                        </Container>\n                    </>\n                )}/>\n                <Route path={`${match.url}/:projectId/issues/new`} exact render={(routerProps) => \n                    <NewIssuePage \n                        {...routerProps} \n                        onSubmit={projects.handleCreateIssue} \n                        onCreateAttachmentRequest={projects.handleIssueAttachmentRequest}\n                        onAddAttachment={projects.addIssueAttachmentHandles}\n                    />\n                }/>\n                <Route path={`${match.url}/:projectId/issues`} render={(routerProps) => {\n                    const projectIdx = projects.data.findIndex(proj => proj.id === Number(routerProps.match.params.projectId));\n                    const issues = (projectIdx !== -1) ? projects.data[projectIdx].issues : []; \n                    return (\n                        <IssueDashboard \n                            {...routerProps} \n                            issues={issues} \n                            onDelete={projects.handleDeleteIssue} \n                            onAssign={projects.handleAssignIssue}\n                            onStart={projects.handleStartIssue} \n                            onClose={projects.handleCloseIssue}\n                            onEdit={projects.handleEditIssue}\n                            onCreateAttachmentRequest={projects.handleIssueAttachmentRequest}\n                            onAddAttachment={projects.addIssueAttachmentHandles}\n                        />\n                    )\n                }}/>\n                <Route path={`${match.url}/new`} exact render={(routerProps) => \n                    <NewProjectPage {...routerProps} onSubmit={projects.handleAddProject} />\n                }/>\n                <Route path={`${match.url}/:projectId/`} exact render={(routerProps) => {\n                    const project = projects.data.find(proj => proj.id === Number(routerProps.match.params.projectId));\n                    if(!project) return;\n                    return <ProjectDetails project={project} {...routerProps} />\n                }}/>\n            </Switch>\n        </>\n    )\n}\n\nexport default ProjectDashboard;","import { useContext } from \"react\";\nimport { projectsContext } from \"../contexts/ProjectsContext\";\n\nexport default function useProjects() {\n    return useContext(projectsContext);\n}","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\n\nimport './UserInfo.css';\n\nexport default function UserInfo(props) {\n    return (\n        <div className=\"user-info\">\n            <Row>\n                <Col lg={6} md={6} s={4} xs={12} className=\"label\">First Name: </Col>\n                <Col lg={6} md={6} s={8} xs={12} className=\"user-detail\">{ props.user.firstName }</Col>\n            </Row>\n\n            <Row>\n                <Col lg={6} md={6} s={4} xs={12} className=\"label\">Last Name: </Col>\n                <Col lg={6} md={6} s={8} xs={12} className=\"user-detail\">{ props.user.lastName }</Col>\n            </Row>\n\n            <Row>\n                <Col lg={6} md={6} s={4} xs={12} className=\"label\">User Name: </Col>\n                <Col lg={6} md={6} s={8} xs={12} className=\"user-detail\">{ props.user.userName }</Col>\n            </Row>\n\n            <Row>\n                <Col lg={6} md={6} s={4} xs={12}className=\"label\">Email: </Col>\n                <Col lg={6} md={6} s={8} xs={12}className=\"user-detail\">{ props.user.email }</Col>\n            </Row>\n\n        </div>\n    )\n}","import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nimport { ChangePasswordSchema } from '../../utility/schema/validation';\n\nexport default function ChangePasswordForm(props) {\n    return (\n        <Formik\n            initialValues={{\n                currentPassword: \"\",\n                newPassword: \"\",\n                confirmNewPassword: \"\"\n            }}\n            onSubmit={async (values, { setSubmitting }) => {\n                setSubmitting(true);\n                await props.onSubmit(values.currentPassword, values.newPassword);\n                setSubmitting(false);\n            }}\n            validationSchema={ChangePasswordSchema}\n        >\n            {({ isSubmitting }) => (\n                <Form className=\"form\">\n                    <Row>\n                        <Col>\n                            <label htmlFor=\"currentPassword\">Current Password</label>\n                        </Col>\n                        <Col>\n                            <Field name=\"currentPassword\" type=\"password\" autoComplete=\"new-password\"/>\n                            <span className=\"form-error\">\n                                {props.error && <div>{props.error.message}</div>}\n                                <ErrorMessage name=\"currentPassword\"/>\n                            </span>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Col>\n                            <label htmlFor=\"newPassword\">New Password</label>\n                        </Col>\n                        <Col>\n                            <Field name=\"newPassword\" type=\"password\" autoComplete=\"new-password\" />\n                            <span className=\"form-error\">\n                                <ErrorMessage name=\"newPassword\" />\n                            </span>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Col>\n                            <label htmlFor=\"confirmNewPassword\">Confirm New Password</label>\n                        </Col>\n                        <Col>\n                            <Field name=\"confirmNewPassword\" type=\"password\" autoComplete=\"off\" />\n                            <span className=\"form-error\">\n                                <ErrorMessage name=\"confirmNewPassword\" />\n                            </span>\n                        </Col>\n                    </Row>\n\n                    <Row>\n                        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>Submit</Button>\n                    </Row>\n\n                </Form>\n            )}\n        </Formik>\n    )\n}","import React from 'react';\nimport { Container, Row } from 'react-bootstrap';\n\nimport { useAuth } from '../../hooks';\n\nimport UserInfo from '../../components/app/UserInfo/UserInfo';\n\nimport '../page.css';\nimport './UserAccountPage.css';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport ChangePasswordForm from '../../components/form/ChangePasswordForm';\n\nexport default function UserAccountPage(props) {\n    const auth = useAuth();\n\n    const handlePasswordChange = async (currentPassword, newPassword) => {\n        auth.changePassword(currentPassword, newPassword, async (err) => {\n            if(!err) {\n                await auth.logout(() => props.history.push('/dashboard'));\n            } else console.log(err);\n         });\n        \n    }\n\n    return (\n        <Switch>\n            <Route path={props.match.url} exact render={() => (\n                <Container fluid className=\"page\" id=\"user-account\">\n                    <Row as=\"h4\">Account Information</Row>\n                    <Row>\n                        <UserInfo user={auth.user} />\n                    </Row>\n                    <Row>\n                        <div>To change your password, click&nbsp;</div>\n                        <Link to=\"account/changePassword\">here</Link>{\".\"}\n                    </Row>\n                </Container>\n            )}/>\n\n            <Route path={props.match.url + \"/changePassword\"} exact render={() => (\n                <Container fluid className=\"page\" id=\"change-password\">\n                    <div> Change Password </div>\n                    <ChangePasswordForm onSubmit={handlePasswordChange} error={auth.error} />\n                </Container>\n            )}/>\n        </Switch>\n    )\n};","import React from 'react';\nimport useNotificationBanner from '../../../hooks/useNotificationBanner';\nimport './NotificationBanner.css';\n\nexport default function NotificationBanner(props) {\n    const banner = useNotificationBanner();\n    return (\n        <div className={'notification-banner-container ' + (banner.show ? \"show\" : \"\")}>\n            <div className=\"notification-banner\">\n                {banner.text}\n            </div>\n        </div>\n    );\n};","import React from 'react';\nimport { Switch, Route, BrowserRouter as Router } from 'react-router-dom';\n\nimport ProvideAuth from './contexts/AuthContext';\nimport ProvideProjects from './contexts/ProjectsContext';\n\nimport PrivateRoute from './utility/route/PrivateRoute';\nimport TopNavBar from './components/app/Navigation/TopNavBar';\n\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport SignupPage from './pages/SignupPage/SignupPage';\nimport Dashboard from './pages/Dashboard/Dashboard';\nimport ProjectDashboard from './pages/ProjectDashboard/ProjectDashboard';\nimport UserAccountPage from './pages/UserAccountPage/UserAccountPage';\nimport NotificationBanner from './components/display/NotificationBanner/NotificationBanner';\nimport ProvideNotificationBanner from './contexts/NotificationBannerContext';\n\nfunction IssueTracker() {\n\n    return (\n        <Router>\n            <ProvideAuth>\n                <ProvideProjects>\n                    <ProvideNotificationBanner>\n                        <NotificationBanner />\n                        <TopNavBar />\n                        <Switch>\n                            <Route path=\"/login\" component={LoginPage} />\n                            <Route path=\"/signup\" component={SignupPage} />\n                            <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n                            <PrivateRoute path=\"/projects\" component={ProjectDashboard} />\n                            <PrivateRoute path=\"/account\" component={UserAccountPage} />\n                            <PrivateRoute path=\"/\" component={Dashboard} />\n                        </Switch>\n                    </ProvideNotificationBanner>\n                </ProvideProjects>\n            </ProvideAuth>\n        </Router>\n    )\n\n\n}\n\nexport default IssueTracker;","import './App.css';\n\nimport IssueTracker from './IssueTracker';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <IssueTracker></IssueTracker>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}