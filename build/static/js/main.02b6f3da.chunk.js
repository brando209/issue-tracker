(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,r){},152:function(e,t,r){},153:function(e,t,r){},179:function(e,t,r){},279:function(e,t,r){},280:function(e,t,r){},281:function(e,t,r){},283:function(e,t,r){},284:function(e,t,r){},285:function(e,t,r){},286:function(e,t,r){},287:function(e,t,r){},288:function(e,t,r){},289:function(e,t,r){},290:function(e,t,r){},291:function(e,t,r){},292:function(e,t,r){},293:function(e,t,r){},294:function(e,t,r){},295:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(36),c=r.n(s),i=(r(152),r(153),r(24)),o=r(20),l=r(3),u=r.n(l),d=r(8),j=r(11),b=r(5),h=r(17),m=r.n(h);var p={isAuthenticated:!1,login:function(e,t){return Object(d.a)(u.a.mark((function r(){var n;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.post("api/auth/login",{userName:e.userName,password:e.password});case 3:return n=r.sent,p.isAuthenticated=!0,a=n.data.token,localStorage.setItem("auth_token",a),t(Object(b.a)(Object(b.a)({},n.data.user),{},{token:n.data.token}),null),r.abrupt("return",n.data);case 10:r.prev=10,r.t0=r.catch(0),p.isAuthenticated=!1,t(null,{message:r.t0.response.data.message});case 14:case"end":return r.stop()}var a}),r,null,[[0,10]])})))()},tokenLogin:function(e){return Object(d.a)(u.a.mark((function t(){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("auth_token")){t.next=6;break}return p.isAuthenticated=!1,console.log("Token not found"),e(null),t.abrupt("return");case 6:return console.log("Token found"),n=null,t.prev=8,t.next=11,m.a.get("api/user/login",{headers:{Authorization:"Bearer ".concat(r)}});case 11:n=t.sent,p.isAuthenticated=!0,e(Object(b.a)(Object(b.a)({},n.data),{},{token:r}),null),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(8),p.isAuthenticated=!1,e(null,{message:t.t0.message});case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}}),t,null,[[8,16]])})))()},signup:function(e,t){return Object(d.a)(u.a.mark((function r(){var n;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.post("api/auth/register",Object(b.a)({},e));case 3:return n=r.sent,console.log(n),t(n.data,null),r.abrupt("return",n.data);case 9:r.prev=9,r.t0=r.catch(0),t(null,{message:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},logout:function(e){return Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.isAuthenticated=!1,localStorage.removeItem("auth_token"),e();case 3:case"end":return t.stop()}}),t)})))()},changePassword:function(e,t,r,n){return Object(d.a)(u.a.mark((function a(){var s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("authApi",{currentPassword:e,newPassword:t}),a.next=4,m.a.patch("api/user/changePassword",{currentPassword:e,newPassword:t},{headers:{Authorization:"Bearer ".concat(r)}});case 4:return s=a.sent,console.log(s),n(null),a.abrupt("return",s.data);case 10:a.prev=10,a.t0=a.catch(0),n({message:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},f=p,x=r(0),O=Object(n.createContext)({});function v(e){var t=function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),c=Object(j.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(null),b=Object(j.a)(l,2),h=b[0],m=b[1];Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.tokenLogin((function(e){e?console.log("Logged in as "+e.userName):console.log("Not logged in"),a(e),m(null),o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("Logging in with token"),o(!0),e()}),[]);var p=function(e,t){console.log("logging in"),o(!0),f.login(e,(function(e,r){r?m(r):(a(e),m(null),t(e))})),o(!1)};return{user:r,isLoading:i,error:h,signup:function(e,t){return f.signup(e,(function(e){console.log(e),t(e)}))},login:p,logout:function(e){return f.logout((function(){a(null),m(null),e&&e()}))},changePassword:function(e,t,n){return console.log("Context",e,t),f.changePassword(e,t,r.token,(function(e){e?(m(e),n(e)):(m(null),n(null))}))}}}();return Object(x.jsx)(O.Provider,{value:t,children:e.children})}function g(){return Object(n.useContext)(O)}var y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=Object(n.useState)({data:[],isLoading:!1,isError:!1}),s=Object(j.a)(a,2),c=s[0],i=s[1],o=Object(n.useState)(!1),l=Object(j.a)(o,2),b=l[0],h=l[1],p=function(){return h((function(e){return!e}))};return Object(n.useEffect)((function(){var n=function(){var n=Object(d.a)(u.a.mark((function n(){var a,s,c,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i({data:[],isLoading:!0,isError:!1}),n.prev=1,a=t?{Authorization:"Bearer ".concat(t)}:{},!r){n.next=15;break}if(0!==r.length){n.next=6;break}return n.abrupt("return",i({data:[],isLoading:!1,isError:!1}));case 6:return c=[],r.forEach((function(t){c.push(m.a.get(e+"/"+t,{headers:a}))})),n.next=10,Promise.all(c);case 10:s=n.sent,o=s.map((function(e){return{filename:e.headers["content-filename"],data:e.data}})),i({data:o,isLoading:!1,isError:!1}),n.next=19;break;case 15:return n.next=17,m.a.get(e,{headers:a});case 17:s=n.sent,i({data:s.data,isLoading:!1,isError:!1});case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(1),console.log(n.t0),i({data:n.t0,isLoading:!1,isError:!0});case 25:case"end":return n.stop()}}),n,null,[[1,21]])})));return function(){return n.apply(this,arguments)}}();n()}),[e,t,b]),[c,i,p]};function w(e){return{Authorization:"Bearer ".concat(e)}}function k(){return(k=Object(d.a)(u.a.mark((function e(t,r,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=w(n),e.next=4,m.a.post("api/projects/".concat(t,"/issues"),r,{headers:a});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function N(){return(N=Object(d.a)(u.a.mark((function e(t,r,n,a){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=w(a),e.next=4,m.a.patch("api/projects/".concat(t,"/issues/").concat(r),n,{headers:s});case 4:return c=e.sent,e.abrupt("return",c.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(){return(I=Object(d.a)(u.a.mark((function e(t,r,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=w(n),e.next=4,m.a.delete("api/projects/".concat(t,"/issues/").concat(r),{headers:a});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return(S=Object(d.a)(u.a.mark((function e(t,r,n,a){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=w(a),e.next=4,m.a.patch("api/projects/".concat(t,"/issues/").concat(r,"/assign"),{assigneeId:n},{headers:s});case 4:return c=e.sent,e.abrupt("return",c.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(){return(C=Object(d.a)(u.a.mark((function e(t,r,n,a){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=w(a),e.next=4,m.a.patch("api/projects/".concat(t,"/issues/").concat(r,"/advance"),{status:n},{headers:s});case 4:return c=e.sent,e.abrupt("return",c.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(){return(A=Object(d.a)(u.a.mark((function e(t,r,n,a){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=w(a),e.next=4,m.a.post("api/projects/".concat(t,"/issues/").concat(r,"/comments"),{comment:n},{headers:s});case 4:return c=e.sent,console.log(c),e.abrupt("return",c.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function T(){return(T=Object(d.a)(u.a.mark((function e(t,r,n,a,s){var c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=w(s),e.next=4,m.a.patch("api/projects/".concat(t,"/issues/").concat(r,"/comments/").concat(n),{comment:a},{headers:c});case 4:return i=e.sent,console.log(i),e.abrupt("return",i.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function P(){return(P=Object(d.a)(u.a.mark((function e(t,r,n,a){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=w(a),e.next=4,m.a.delete("api/projects/".concat(t,"/issues/").concat(r,"/comments/").concat(n),{headers:s});case 4:return c=e.sent,console.log(c),e.abrupt("return",c.data);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function D(){return(D=Object(d.a)(u.a.mark((function e(t,r,n,a,s){var c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=w(a),i={onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);s&&"function"===typeof s&&s(t)},headers:c},e.abrupt("return",m.a.post("api/projects/".concat(t,"/issues/").concat(r,"/attachments"),n,i));case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function E(){return(E=Object(d.a)(u.a.mark((function e(t,r,n,a){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=w(a),e.abrupt("return",m.a.get("api/projects/".concat(t,"/issues/").concat(r,"/attachments/").concat(n),{headers:s}));case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function B(){return(B=Object(d.a)(u.a.mark((function e(t,r,n,a){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=w(a),c=m.a.delete("api/projects/".concat(t,"/issues/").concat(r,"/attachments/").concat(n),{headers:s}),console.log(c),e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var F={createIssue:function(e,t,r){return k.apply(this,arguments)},updateIssue:function(e,t,r,n){return N.apply(this,arguments)},deleteIssue:function(e,t,r){return I.apply(this,arguments)},assignIssue:function(e,t,r,n){return S.apply(this,arguments)},advanceIssue:function(e,t,r,n){return C.apply(this,arguments)},addComment:function(e,t,r,n){return A.apply(this,arguments)},updateComment:function(e,t,r,n,a){return T.apply(this,arguments)},deleteComment:function(e,t,r,n){return P.apply(this,arguments)},createAttachment:function(e,t,r,n,a){return D.apply(this,arguments)},getAttachment:function(e,t,r,n){return E.apply(this,arguments)},deleteAttachment:function(e,t,r,n){return B.apply(this,arguments)}},L=F;function R(){return(R=Object(d.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(r),e.next=4,m.a.post("api/projects",t,{headers:n});case 4:return a=e.sent,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function K(){return(K=Object(d.a)(u.a.mark((function e(t,r,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=w(r),e.next=4,m.a.patch("api/projects/".concat(t),n,{headers:a});case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function q(){return(q=Object(d.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(r),e.next=4,m.a.delete("api/projects/".concat(t),{headers:n});case 4:return a=e.sent,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function V(){return(V=Object(d.a)(u.a.mark((function e(t,r,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=w(n),e.next=4,m.a.post("api/projects/".concat(t,"/collaborators"),{collaboratorId:r},{headers:a});case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function U(){return(U=Object(d.a)(u.a.mark((function e(t,r,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=w(n),e.next=4,m.a.delete("api/projects/".concat(t,"/collaborators"),{collaboratorId:r},{headers:a});case 4:return s=e.sent,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var _={createProject:function(e,t){return R.apply(this,arguments)},updateProject:function(e,t,r){return K.apply(this,arguments)},deleteProject:function(e,t){return q.apply(this,arguments)},addProjectCollaborator:function(e,t,r){return V.apply(this,arguments)},removeProjectCollaborator:function(e,t,r){return U.apply(this,arguments)}},H=_,J=Object(n.createContext)({});function W(e){var t=function(){var e=g(),t=y("http://localhost:3001/api/projects",e.user?e.user.token:null),r=Object(j.a)(t,2),n=r[0],a=r[1],s=function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.data,t.next=3,H.deleteProject(n.projectId,e.user.token);case 3:a((function(e){var t=e.data.slice(),r=t.findIndex((function(e){return e.id===n.projectId}));return t.splice(r,1),Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.createProject(r,e.user.token);case 2:n=t.sent,a((function(e){var t=e.data.slice();return t.push(Object(b.a)(Object(b.a)({},n.data),{},{issues:[]})),Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var e=Object(d.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var t=Object(d.a)(u.a.mark((function t(r){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.data,a=r.values,t.next=3,H.addProjectCollaborator(n.projectId,a.collaboratorId,e.user.token);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(d.a)(u.a.mark((function t(r,n){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.createIssue(r,n,e.user.token);case 2:return s=t.sent,a((function(e){var t=e.data.slice(),n=t.findIndex((function(e){return e.id===Number(r)}));return t[n].issues.push(s),Object(b.a)(Object(b.a)({},e),{},{data:t})})),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=Object(d.a)(u.a.mark((function t(r,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.deleteIssue(r,n,e.user.token);case 2:a((function(e){var t=e.data.slice(),a=t.findIndex((function(e){return e.id===Number(r)})),s=t[a]&&t[a].issues&&t[a].issues.length>0&&t[a].issues.findIndex((function(e){return e.id===Number(n)}));return t[a].issues.splice(s,1),Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),m=function(){var t=Object(d.a)(u.a.mark((function t(r,n,s){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Object.keys(s).length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,L.updateIssue(r,n,s,e.user.token);case 4:c=t.sent,a((function(e){var t=e.data.slice(),a=t.findIndex((function(e){return e.id===Number(r)})),s=t[a]&&t[a].issues&&t[a].issues.length>0&&t[a].issues.findIndex((function(e){return e.id===Number(n)}));return t[a].issues[s]=c,Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(d.a)(u.a.mark((function t(r,n,s){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.assignIssue(r,n,s,e.user.token);case 2:c=t.sent,a((function(e){var t=e.data.slice(),a=t.findIndex((function(e){return e.id===Number(r)})),s=t[a]&&t[a].issues&&t[a].issues.length>0&&t[a].issues.findIndex((function(e){return e.id===Number(n)}));return t[a].issues[s]=c,Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),f=function(){var t=Object(d.a)(u.a.mark((function t(r,n){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.advanceIssue(r,n,"inprogress",e.user.token);case 2:s=t.sent,a((function(e){var t=e.data.slice(),a=t.findIndex((function(e){return e.id===Number(r)})),c=t[a]&&t[a].issues&&t[a].issues.length>0&&t[a].issues.findIndex((function(e){return e.id===Number(n)}));return t[a].issues[c]=s,Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),x=function(){var t=Object(d.a)(u.a.mark((function t(r,n,s){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.advanceIssue(r,n,s,e.user.token);case 2:c=t.sent,a((function(e){var t=e.data.slice(),a=t.findIndex((function(e){return e.id===Number(r)})),s=t[a]&&t[a].issues&&t[a].issues.length>0&&t[a].issues.findIndex((function(e){return e.id===Number(n)}));return t[a].issues[s]=c,Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(u.a.mark((function t(r,n,a,s){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("in context"),t.abrupt("return",L.createAttachment(r,n,a,e.user.token,s));case 2:case"end":return t.stop()}}),t)})));return function(e,r,n,a){return t.apply(this,arguments)}}(),v=function(e,t,r){a((function(n){var a=n.data.slice(),s=a.findIndex((function(t){return t.id===Number(e)})),c=a[s]&&a[s].issues&&a[s].issues.length>0&&a[s].issues.findIndex((function(e){return e.id===Number(t)})),i=a[s].issues[c].attachmentHandles||[];return a[s].issues[c].attachmentHandles=i.concat(r),Object(b.a)(Object(b.a)({},n),{},{data:a})}))};return{data:n.data,handleDeleteProject:s,handleEditProject:i,handleAddProject:c,handleAddCollaborator:o,handleDeleteIssue:h,handleEditIssue:m,handleCreateIssue:l,handleAssignIssue:p,handleStartIssue:f,handleCloseIssue:x,handleIssueAttachmentRequest:O,addIssueAttachmentHandles:v}}();return Object(x.jsx)(J.Provider,{value:t,children:e.children})}var z=r(13),M=["children","component"];var G=function(e){var t=e.children,r=e.component,n=Object(z.a)(e,M),a=g(),s=r;return Object(x.jsx)(o.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return a.user?t||Object(x.jsx)(s,Object(b.a)({},e)):Object(x.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},X=r(308),Q=r(53),Y=["to","text"];var Z=function(e){var t=e.to,r=e.text,n=Object(z.a)(e,Y);return Object(x.jsx)(Q.a,Object(b.a)(Object(b.a)({as:i.b,to:t||"#",variant:"outline-primary"},n),{},{children:r||n.children}))},$=r(309),ee=(r(179),["title","logo","render"]);var te=function(e){var t=e.title,r=e.logo,n=e.render,a=Object(z.a)(e,ee);return Object(x.jsxs)($.a,Object(b.a)(Object(b.a)({className:"NavBar"},a),{},{children:[Object(x.jsxs)($.a.Brand,{id:"brand",href:"/",children:[r?Object(x.jsx)("img",{alt:"",src:r,className:"logo"}):null,t]}),Object(x.jsx)($.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsx)($.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:n()})]}))},re=r.p+"static/media/logo.103b5fa1.svg";var ne=function(e){var t=g(),r=function(){t.logout((function(){console.log("Logged out")}))};return Object(x.jsx)(te,{title:"Issue Tracker",logo:re,bg:"dark",expand:"md",render:function(){return Object(x.jsxs)(X.a,{children:[t.user?null:Object(x.jsx)(Z,{className:"m-sm-1",to:"login",children:"Login"}),t.user?null:Object(x.jsx)(Z,{className:"m-sm-1",to:"signup",children:"Signup"}),t.user?Object(x.jsx)(Z,{className:"m-sm-1",to:"/dashboard",children:"Dashboard"}):null,t.user?Object(x.jsx)(Z,{className:"m-sm-1",to:"/account",children:"Account"}):null,t.user?Object(x.jsx)(Z,{className:"m-sm-1",onClick:r,children:"Logout"}):null]})}})},ae=r(85),se=r(10),ce=r(300),ie=r(145),oe=r(19),le=oe.a().shape({firstName:oe.c().min(3,"Too Short!").max(20,"Too Long!").required("Required"),lastName:oe.c().min(3,"Too Short!").max(20,"Too Long!").required("Required"),userName:oe.c().min(3,"Too Short!").max(20,"Too Long!").required("Required"),email:oe.c().email("Invalid email").required("Required"),password:oe.c().min(6,"Too Short!").max(20,"Too Long!").required("Required"),confirmPassword:oe.c().oneOf([oe.b("password"),""],"Passwords do not match")}),ue=oe.a().shape({userName:oe.c().min(3,"Too Short!").max(20,"Too Long!").required("Required"),password:oe.c().min(6,"Too Short!").max(20,"Too Long!").required("Required")}),de=oe.a().shape({currentPassword:oe.c().min(6,"Too Short!").max(20,"Too Long!").required("Required"),newPassword:oe.c().min(6,"Too Short!").max(20,"Too Long!").required("Required"),confirmNewPassword:oe.c().oneOf([oe.b("newPassword"),null],"Passwords must match")}),je=oe.a().shape({name:oe.c().min(3,"Too Short!").max(30,"Too Long!").required("Required"),description:oe.c().min(3,"Too Short!").max(512,"Too Long!").required("Required")}),be=oe.a().shape({title:oe.c().min(3,"Too Short!").max(30,"Too Long!").required("Required"),description:oe.c().min(3,"Too Short!").max(512,"Too Long!").required("Required")}),he=["onSubmit"];var me=function(e){var t=e.onSubmit,r=Object(z.a)(e,he);return Object(x.jsx)(se.d,{initialValues:{userName:"",password:""},validationSchema:ue,onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=n.setSubmitting)(!0),e.prev=2,e.next=5,t(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:a(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,r){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(x.jsxs)(se.c,{className:"form",children:[Object(x.jsx)(ce.a,{as:"h3",children:"Log In"}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"userName",children:"Username"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"userName",type:"text",className:"form-input"}),Object(x.jsx)(se.a,{name:"userName",className:"form-error"})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"password",children:"Password"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"password",type:"password",className:"form-input"}),Object(x.jsx)(se.a,{name:"password",className:"form-error"})]})]}),r.error&&Object(x.jsx)("div",{className:"form-error",children:r.error.message}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(Q.a,{variant:"primary",type:"submit",disabled:t,children:"Submit"})}),Object(x.jsxs)("p",{children:["Don't have an account yet? Please ",Object(x.jsx)(i.b,{to:"signup",children:"Sign up"})," to continue."]})]})}})};r(106);var pe=function(e){var t=g(),r=e.location.state?e.location.state.from:null;return t.isLoading?Object(x.jsx)("div",{children:"Loading..."}):t.user?Object(x.jsx)(o.a,{to:r?r.pathname:"/"}):Object(x.jsx)(ae.a,{fluid:!0,className:"page",children:Object(x.jsx)(me,{onSubmit:function(e){return t.login(e,(function(e){console.log("Signed in as "+e.userName+"!")}))},error:t.error})})};r(279);var fe=function(e){return Object(x.jsx)(se.d,{initialValues:{firstName:"",lastName:"",email:"",userName:"",password:"",confirmPassword:""},validationSchema:le,onSubmit:function(){var t=Object(d.a)(u.a.mark((function t(r,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setSubmitting(!0),t.prev=1,t.next=4,e.onSubmit(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:n.setSubmitting(!1);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,r){return t.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(x.jsxs)(se.c,{className:"form",autoComplete:"false",children:[Object(x.jsx)(ce.a,{as:"h3",lg:1,children:"Sign Up"}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"firstName",children:"First Name"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"firstName",type:"text",className:"form-input"}),Object(x.jsx)(se.a,{name:"firstName",className:"form-error"})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"lastName",children:"Last Name"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"lastName",type:"text",className:"form-input"}),Object(x.jsx)(se.a,{name:"lastName",className:"form-error"})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"email",children:"Email Address"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"email",type:"text",className:"form-input"}),Object(x.jsx)(se.a,{name:"email",className:"form-error"})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"userName",children:"Display Name"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"userName",type:"text",className:"form-input",autoComplete:"off"}),Object(x.jsx)(se.a,{name:"userName",className:"form-error"})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"password",children:"Password"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"password",type:"password",className:"form-input",autoComplete:"off"}),Object(x.jsx)(se.a,{name:"password",className:"form-error"})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"confirmPassword",type:"password",className:"form-input"}),Object(x.jsx)(se.a,{name:"confirmPassword",className:"form-error"})]})]}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(Q.a,{variant:"primary",type:"submit",disabled:t,children:"Submit"})}),Object(x.jsxs)("p",{children:["Already have an account? ",Object(x.jsx)(i.b,{to:"login",children:"Log in"})," to continue."]})]})}})};var xe=function(){var e=g(),t=Object(n.useState)(!1),r=Object(j.a)(t,2),a=r[0],s=r[1],c=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signup(r,(function(e){console.log(e)}));case 2:s(!0);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e.isLoading?Object(x.jsx)("div",{children:"Loading..."}):e.user||a?Object(x.jsx)(o.a,{to:"/"}):Object(x.jsx)(ae.a,{fluid:!0,className:"page",children:Object(x.jsx)(fe,{onSubmit:c})})};r(280);var Oe=function(){return Object(x.jsxs)(ae.a,{className:"tile-container",children:[Object(x.jsx)(Z,{to:"/projects",className:"tile",children:"Projects&Issues"}),Object(x.jsx)(Q.a,{className:"tile",children:"Reports (Coming Soon)"})]})};var ve=function(){return Object(x.jsx)(te,{title:"Projects",bg:"light",render:function(){return Object(x.jsx)(X.a,{children:Object(x.jsx)(Z,{to:"/projects/new",className:"m-sm-1",children:"Add New Project"})})}})};var ge=function(e){var t=e.item,r=e.render;return Object(x.jsx)("div",{className:"list-item",children:r(t)})};var ye=function(e){var t=e.name,r=e.value,a=e.items,s=e.render,c=Object(n.useState)(!1),i=Object(j.a)(c,2),o=i[0],l=i[1];return Object(x.jsxs)("div",{className:"list-item-group "+t,children:[Object(x.jsx)("div",{className:"group-header "+(o?"collapsed":""),onClick:function(){return l((function(e){return!e}))},children:r}),o?null:a&&a.length>0?a.map((function(e,t){return Object(x.jsx)(ge,{item:e,render:s},"".concat(r,"-").concat(t))})):Object(x.jsx)("div",{className:"empty-group-message",children:"There are no items to display for this group"})]})},we=(r(281),r(33)),ke=r(51),Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return e;var a=Object(ke.mapValues)(t,(function(e){var t=Object(ke.pickBy)(e,(function(e){return!0===e}));return Object.keys(t)})),s=e&&e.length>0&&e.filter((function(e){for(var t=!0,s=0,c=Object.keys(a);s<c.length;s++){var i=c[s];!1===Object(ke.includes)(a[i],e[i])&&(t=!1)}if(t&&""!==r){var o,l=Object(we.a)(n);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(!0===Object(ke.includes)(e[u].toLowerCase(),r.toLowerCase())){t=!0;break}t=!1}}catch(d){l.e(d)}finally{l.f()}}return t}));return s||e},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return e;var r=Object(ke.groupBy)(e,(function(e){return e[t]}));return r};var Se=function(e){var t=e.listItems,r=e.groupKey,n=void 0===r?null:r,a=e.groupValues,s=void 0===a?null:a,c=e.orderBy,i=void 0===c?"asc":c,o=e.filter,l=void 0===o?null:o,u=e.searchText,d=void 0===u?"":u,j=e.searchKeys,b=void 0===j?[]:j,h=e.render,m=Ne(t,l,d,b),p=Ie(m,n);return Object(x.jsx)("div",{className:"list-container",children:function(){var e;if(n&&s){var t=[];s.forEach((function(e){var r=p[e];t.push(Object(x.jsx)(ye,{name:n,value:e,items:r,render:h},"".concat(n,"=").concat(e)))})),e="desc"===i?t.reverse():t}else e=m&&m.map((function(e,t){return Object(x.jsx)(ge,{item:e,keyValue:t,render:h},t)}));return e}()})},Ce=r(310),Ae=r(301),Te=r(302),Pe=r(147);var De=function(e){var t=e.project,r=e.onDelete,n=e.onEdit,a=e.onAddCollaborator;return Object(x.jsxs)(Ce.a,{className:"project-list-card",children:[Object(x.jsxs)(Ce.a.Body,{className:"left-side",children:[Object(x.jsx)(Ce.a.Title,{children:t.name}),Object(x.jsx)(Ce.a.Text,{children:t.description}),Object(x.jsxs)(Ae.a,{className:"buttons",children:[Object(x.jsx)(Z,{variant:"primary",to:"/projects/".concat(t.id),children:"View Project"}),Object(x.jsxs)(Te.a,{variant:"secondary",title:"Settings",children:[Object(x.jsx)(Pe.a.Item,{onClick:function(){return n(t.id)},children:"Edit Project"}),Object(x.jsx)(Pe.a.Item,{onClick:function(){return r({projectId:t.id})},children:"Delete Project"}),Object(x.jsx)(Pe.a.Item,{onClick:function(){return a({projectId:t.id})},children:"Add Collaborator"})]})]})]}),Object(x.jsxs)(Ce.a.Body,{className:"right-side",style:{borderLeft:"1px solid black"},children:[Object(x.jsx)(Ce.a.Title,{children:"Issue Details"}),Object(x.jsx)(Ce.a.Text,{children:"There are "+t.issues.length+" issues related to this project"}),Object(x.jsxs)(Ae.a,{className:"buttons",children:[Object(x.jsx)(Z,{variant:"primary",to:"/projects/".concat(t.id,"/issues"),children:"View Issues"}),Object(x.jsx)(Z,{variant:"secondary",to:"/projects/".concat(t.id,"/issues/new"),children:"Add New Issue"})]})]})]})},Ee=(r(283),["projectList"]);var Be=function(e){var t=e.projectList,r=Object(z.a)(e,Ee);return t?Object(x.jsx)(Se,{listItems:t,render:function(e){return Object(x.jsx)(De,Object(b.a)({project:e},r))}}):"No projects"};var Fe=function(e){var t=e.onSubmit;return Object(x.jsx)(se.d,{initialValues:{name:"",description:""},validationSchema:je,onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(r,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=n.setSubmitting)(!0),e.prev=2,e.next=5,t(r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:a(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,r){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting;return Object(x.jsxs)(se.c,{className:"form",children:[Object(x.jsx)(ce.a,{as:"h3",children:"Create New Project"}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"name",children:"Project Name"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"name",type:"text",className:"form-input"}),Object(x.jsx)(se.a,{name:"name",className:"form-error"})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"description",children:"Description"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"description",as:"textarea",className:"form-input"}),Object(x.jsx)(se.a,{name:"description",className:"form-error"})]})]}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(Q.a,{variant:"primary",type:"submit",disabled:t,children:"Create Project"})})]})}})},Le=Object(n.createContext)({});function Re(e){var t=function(){var e=Object(n.useState)("Notification Banner"),t=Object(j.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),c=Object(j.a)(s,2),i=c[0],o=c[1];return{text:r,show:i,showNotificationWithText:function(e){a(e),o(!0),setTimeout((function(){o(!1),a("")}),5e3)}}}();return Object(x.jsx)(Le.Provider,{value:t,children:e.children})}function Ke(){return Object(n.useContext)(Le)}var qe=function(e){var t=g(),r=Ke(),a=Object(n.useState)(!1),s=Object(j.a)(a,2),c=s[0],i=s[1],l=function(){var n=Object(d.a)(u.a.mark((function n(a){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Creating project with token "+t.user.token),n.next=3,e.onSubmit(a);case 3:r.showNotificationWithText("Project successfully created!"),i(!0);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return!0===c?Object(x.jsx)(o.a,{to:"/projects"}):Object(x.jsx)(ae.a,{fluid:!0,className:"page",children:Object(x.jsx)(Fe,{onSubmit:l})})},Ve=r(311);r(284);var Ue=function(e){var t=e.name,r=e.disabled,a=e.onFilesAdded,s=Object(n.useState)(!1),c=Object(j.a)(s,2),i=c[0],o=c[1],l=Object(n.useRef)(null),u=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e.item(r));return t};return Object(x.jsxs)("div",{className:"dropzone ".concat(i?"highlight":""),onDragOver:function(e){e.preventDefault(),o(!0)},onDragLeave:function(){o(!1)},onDrop:function(e){if(e.preventDefault(),!r){var t=e.dataTransfer.files;if(a){var n=u(t);a(n)}o(!1)}},onClick:function(){r||l.current.click()},style:{cursor:r?"default":"pointer"},children:[Object(x.jsx)("input",{ref:l,name:t,className:"file-input",type:"file",multiple:!0,onChange:function(e){if(!r){var t=e.target.files;if(a){var n=u(t);a(n)}}}}),Object(x.jsx)("img",{alt:"upload",className:"icon",src:"/upload_file_black_24dp.svg"}),Object(x.jsx)("span",{children:"Upload Files"})]})},_e=(r(285),["onChange","sendRequest","onClose","setUploadCallbacks"]),He={files:[],isUploading:!1,progress:{},successful:!1};var Je=function(e){var t=e.onChange,r=e.sendRequest,a=e.onClose,s=e.setUploadCallbacks,c=Object(z.a)(e,_e),i=Object(n.useState)(He),o=Object(j.a)(i,2),l=o[0],h=o[1];Object(n.useEffect)((function(){s&&s((function(){return p}))}),[s]);var m=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h((function(e){return Object(b.a)(Object(b.a)({},e),{},{progress:{},isUploading:!0})})),t=[],console.log(l),l.files&&l.files.forEach((function(e){console.log("sending request from upload"),n=p(e);var a=new FormData;a.append("attachments",e),t.push(r(a,n.progressCb))})),e.prev=4,e.next=7,Promise.all(t).then((function(e){return e.map((function(e){return e.data.id}))})).then((function(e){return n.successCb(),e})).catch((function(e){return n.failureCb(e)}));case 7:a=e.sent,c.onComplete(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.failureCb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),p=function(e){return h((function(e){return Object(b.a)(Object(b.a)({},e),{},{progress:{},isUploading:!0})})),{progressCb:function(t){t&&100!==t?(console.log("isuploading"),h((function(r){var n=Object(b.a)({},r.progress);return n[e.name]={state:"pending",percentage:t},Object(b.a)(Object(b.a)({},r),{},{progress:n})}))):t&&(console.log("issuccessful"),h((function(r){var n=Object(b.a)({},r.progress);return n[e.name]={state:"done",percentage:t},Object(b.a)(Object(b.a)({},r),{},{progress:n})})))},successCb:function(){console.log("calling success"),h((function(e){return Object(b.a)(Object(b.a)({},e),{},{successful:!0,uploading:!1})}))},failureCb:function(e){console.log("calling failure",e),h((function(e){return Object(b.a)(Object(b.a)({},e),{},{successful:!1,uploading:!1})}))}}},f=function(e){var t=l.progress&&l.progress[e.name];if(l.isUploading||l.successful)return Object(x.jsxs)("div",{className:"progress-wrapper",children:[Object(x.jsx)(Ve.a,{now:t?t.percentage:0}),Object(x.jsx)("img",{className:"successful-icon",alt:"successful",src:"/file_download_done_black_24dp.svg",style:{opacity:t&&"done"===t.state?.5:0}})]})};return Object(x.jsxs)("div",{className:"upload",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("span",{className:"title",children:"Upload Files"}),a&&Object(x.jsx)("button",{className:"close-upload link",onClick:function(){return a()},children:"X"})]}),Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("div",{children:Object(x.jsx)(Ue,{name:c.name,onFilesAdded:function(e){h((function(r){var n=r.files.concat(e);return t&&t(n),Object(b.a)(Object(b.a)({},r),{},{files:n})}))},disabled:l.isUploading||l.successful})}),Object(x.jsx)("div",{className:"files",children:l.files&&l.files.map((function(e,t){return Object(x.jsxs)("div",{className:"file-progress",children:[Object(x.jsx)("span",{className:"filename",children:e.name}),f(e)," ",Object(x.jsx)("button",{className:"remove-attachment link",onClick:function(){return e=t,void h((function(t){console.log("removing file:",e);var r=t.files.slice();return r.splice(e,1),Object(b.a)(Object(b.a)({},t),{},{files:r})}));var e},style:{display:l.isUploading||l.successful?"none":"inline"},children:"X"})]},"file.name-".concat(t))}))})]}),Object(x.jsx)("div",{className:"actions",children:r?l.successful?Object(x.jsx)(Q.a,{onClick:function(){return h(He)},children:"Clear"}):Object(x.jsx)(Q.a,{disabled:!l.files||l.files.length<0||l.isUploading,onClick:m,children:"Upload"}):null})]})};var We=function(e){var t=e.onSubmit,r=e.collaborators,a=Object(n.useState)({progressCb:function(e){console.log(e)},successCb:function(){console.log("Successful upload")},failureCb:function(){console.log("Failed upload")}}),s=Object(j.a)(a,2),c=s[0],i=s[1];return Object(x.jsx)(se.d,{initialValues:{title:"",description:"",category:"other",priority:"regular",status:"unassigned",assigneeId:""},validationSchema:be,onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(r,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=n.setSubmitting)(!0),e.prev=2,s=r,e.next=6,t(s,c);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:a(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.setFieldValue,a=e.submitForm,s=e.resetForm;return Object(x.jsxs)(se.c,{className:"form",id:"new-issue-form",children:[Object(x.jsx)(ce.a,{as:"h3",children:"Add New Issue"}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"title",children:"Issue Title"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"title",type:"text",className:"form-input"}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"title"})})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"description",children:"Description"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"description",as:"textarea",className:"form-input"}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"description",className:"form-error"})})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"category",children:"Category"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsxs)(se.b,{name:"category",as:"select",className:"form-input",children:[Object(x.jsx)("option",{value:"bug",children:"Bug"}),Object(x.jsx)("option",{value:"feature",children:"Feature"}),Object(x.jsx)("option",{value:"task",children:"Task"}),Object(x.jsx)("option",{value:"other",children:"Uncategorized"})]}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"category",className:"form-error"})})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"priority",children:"Priority"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsxs)(se.b,{name:"priority",as:"select",className:"form-input",children:[Object(x.jsx)("option",{value:"trivial",children:"Trivial"}),Object(x.jsx)("option",{value:"low",children:"Low"}),Object(x.jsx)("option",{value:"regular",children:"Regular"}),Object(x.jsx)("option",{value:"high",children:"High"}),Object(x.jsx)("option",{value:"critical",children:"Critical"})]}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"priority",className:"form-error"})})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"attachments",children:"Attachments"})}),Object(x.jsx)(ie.a,{children:Object(x.jsx)(se.b,{name:"attachments",as:Je,onChange:function(e){return n("attachments",e)},setUploadCallbacks:i,className:"form-input"})})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"assign",children:"Assign"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsxs)(se.b,{name:"assigneeId",as:"select",className:"form-input",children:[Object(x.jsx)("option",{value:"",children:"Unassigned"}),r.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.userName},e.id)}))]}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"assign",className:"form-error"})})]})]}),Object(x.jsx)(se.b,{name:"createAnother",type:"checkbox",style:{display:"none"}}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(Q.a,{variant:"primary",type:"submit",disabled:t,children:"Add Issue"}),Object(x.jsx)(Q.a,{variant:"outline-primary",className:"mx-1",disabled:t,onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("createAnother",!0),e.next=3,a();case 3:s();case 4:case"end":return e.stop()}}),e)}))),children:"Add And Create Another"})]})]})}})};var ze=function(e){var t=g(),r=Ke(),a=y("http://localhost:3001/api/projects/".concat(e.match.params.projectId,"/collaborators"),t.user?t.user.token:null),s=Object(j.a)(a,2),c=s[0],i=(s[1],Object(n.useState)(!1)),l=Object(j.a)(i,2),b=l[0],h=l[1],m=function(){var t=Object(d.a)(u.a.mark((function t(r,n,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("in new issue page"),t.abrupt("return",e.onCreateAttachmentRequest(e.match.params.projectId,r,n,a));case 2:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(d.a)(u.a.mark((function t(n,a){var s,c,i,o,l,d;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.attachments,delete n.attachments,c=n.createAnother,delete n.createAnother,t.next=6,e.onSubmit(e.match.params.projectId,n);case 6:return i=t.sent,o=a(null),l=[],s&&s.forEach((function(e){o=a(e);var t=new FormData;t.append("attachments",e),l.push(m(i.id,t,o.progressCb))})),t.next=12,Promise.all(l).then((function(e){return e.map((function(e){return e.data.id}))})).then((function(e){return o.successCb(),e})).catch((function(e){return o.failureCb(e)}));case 12:d=t.sent,e.onAddAttachment(e.match.params.projectId,i.id,d),r.showNotificationWithText("Issue successfully added!"),h(!c);case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return!0===b?Object(x.jsx)(o.a,{to:"/projects/".concat(e.match.params.projectId,"/issues")}):Object(x.jsx)(ae.a,{fluid:!0,className:"page",children:Object(x.jsx)(We,{onSubmit:p,collaborators:c.data})})};var Me=function(e){var t=e.render;return Object(x.jsx)(te,{title:"Issues",bg:"light",expand:"lg",render:function(){return Object(x.jsxs)(X.a,{children:[t(),Object(x.jsx)(Z,{to:"issues/new",variant:"outline-dark",className:"m-sm-1",children:"Add New Issue"})]})}})},Ge=r(303),Xe=(r(286),function(e){return Object(x.jsxs)(Ge.a,{bordered:!0,striped:!0,responsive:!0,className:"table",children:[Object(x.jsxs)("thead",{className:"table-header",children:[Object(x.jsx)("tr",{className:"table-header-group",children:Object(x.jsx)("td",{colSpan:"8",children:e.groupName})}),Object(x.jsxs)("tr",{children:[e.headerKeys.map((function(e){return Object(x.jsx)("th",{children:e},"table-header-".concat(e))})),Object(x.jsx)("th",{})]},"table-header")]}),Object(x.jsx)("tbody",{className:"table-body",children:e.data.map((function(t){return Object(x.jsxs)("tr",{children:[e.headerKeys.map((function(e){return Object(x.jsx)("td",{children:t[e]},"".concat(t.id,"-").concat(e))})),Object(x.jsx)("td",{children:e.children?e.children(t):null},"".concat(t.id,"-options"))]},t.id)}))})]})});var Qe=function(e){var t=e.listItems,r=e.headerKeys,n=e.groupKey,a=void 0===n?null:n,s=(e.groupValues,e.orderBy,e.filter),c=void 0===s?null:s,i=e.searchText,o=void 0===i?"":i,l=e.searchKeys,u=void 0===l?[]:l,d=e.renderButtons,j=Ne(t,c,o,u),b=Ie(j,a),h=Object.keys(b);return b&&h.length>0?h.map((function(e){return Object(x.jsx)(Xe,{headerKeys:r,data:b[e],groupName:e+"s",children:d})})):Object(x.jsx)(Xe,{headerKeys:r,data:b,groupName:"All",children:d})},Ye=r(304),Ze=function(e){var t=e.projectId,r=e.issue,n=e.onDelete,a=e.onAssign,s=e.onStart,c=e.onClose;return Object(x.jsx)(Ye.a,{style:{width:"100%"},children:Object(x.jsxs)(Ae.a,{children:[Object(x.jsx)(Z,{variant:"primary",to:"/projects/".concat(t,"/issues/").concat(r.id),children:"View"}),Object(x.jsx)(Q.a,{variant:"primary",onClick:function(e){return"unassigned"===r.status?a({projectId:t,issueId:r.id}):"open"===r.status?s({projectId:t,issueId:r.id}):"inprogress"===r.status?c({projectId:t,issueId:r.id}):void 0},disabled:"resolved"===r.status||"closed"===r.status,children:"unassigned"===r.status?"Assign":"open"===r.status||"inprogress"===r.status?"Advance":"resolved"===r.status?"Resolved":"Closed"}),Object(x.jsxs)(Te.a,{as:Ae.a,variant:"secondary",title:"Settings",children:[Object(x.jsx)(Pe.a.Item,{children:"Edit Issue"}),Object(x.jsx)(Pe.a.Item,{onClick:function(){return n({projectId:t,issueId:r.id})},children:"Delete Issue"})]})]})})},$e=["projectId","issue"];var et=function(e){var t=e.projectId,r=e.issue,n=Object(z.a)(e,$e);return Object(x.jsxs)(Ce.a,{style:{height:"100%",width:"100%",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(x.jsxs)(Ce.a.Body,{style:{flex:5},children:[Object(x.jsx)(Ce.a.Title,{children:r.title}),Object(x.jsx)(Ce.a.Text,{children:r.description})]}),Object(x.jsxs)(Ce.a.Body,{style:{flex:1,height:"100%",borderLeft:"1px solid black"},children:[Object(x.jsx)(Ce.a.Title,{children:"Category"}),Object(x.jsx)(Ce.a.Text,{children:r.category})]}),Object(x.jsxs)(Ce.a.Body,{style:{flex:1,borderLeft:"1px solid black"},children:[Object(x.jsx)(Ce.a.Title,{children:"Priority"}),Object(x.jsx)(Ce.a.Text,{children:r.priority})]}),Object(x.jsxs)(Ce.a.Body,{style:{flex:1,borderLeft:"1px solid black"},children:[Object(x.jsx)(Ce.a.Title,{children:"Status"}),Object(x.jsx)(Ce.a.Text,{children:r.status})]}),Object(x.jsxs)(Ce.a.Body,{style:{flex:1,borderLeft:"1px solid black"},children:[Object(x.jsx)(Ce.a.Title,{children:"Assigned"}),Object(x.jsx)(Ce.a.Text,{children:r.assignee?r.assignee:"None"})]}),Object(x.jsx)(Ce.a.Body,{style:{flex:2,height:"100%",borderLeft:"1px solid black"},children:Object(x.jsx)(Ze,Object(b.a)({projectId:t,issue:r},n))})]})},tt=["projectId","issueList","groupBy","orderBy","filter","searchText","searchKeys"],rt=["title","category","priority","status","assignee"],nt={priority:["trivial","low","regular","high","critical"],category:["other","task","feature","bug"],status:["closed","resolved","inprogresss","open","unassigned"]};var at=function(e){var t=e.projectId,r=e.issueList,n=e.groupBy,a=e.orderBy,s=e.filter,c=e.searchText,i=e.searchKeys,o=Object(z.a)(e,tt);return r&&r.length>0?"2"===o.viewAs?Object(x.jsx)(Qe,{listItems:r,headerKeys:rt,groupKey:n,groupValues:nt[n],orderBy:a,filter:s,searchText:c,searchKeys:i,renderButtons:function(e){return Object(x.jsx)(Ze,Object(b.a)({projectId:t,issue:e},o))}}):Object(x.jsx)(Se,{listItems:r,groupKey:n,groupValues:nt[n],orderBy:a,filter:s,searchText:c,searchKeys:i,render:function(e){return Object(x.jsx)(et,Object(b.a)({projectId:t,issue:e},o))}}):Object(x.jsxs)("div",{className:"empty-list-message",children:[Object(x.jsx)("span",{children:"There are currently no issues to display for this project. "}),Object(x.jsx)("a",{href:"issues/new",children:"Click here "}),Object(x.jsx)("span",{children:"to create an issue."})]})},st=r(43);r(287);function ct(e){var t=e.checked,r=e.name,n=e.id,a=e.onClick;return Object(x.jsx)("div",{className:"checkmark",id:n,name:r,onClick:a,children:t?"\u2713":""})}var it=function(e){var t=Object(n.useState)(!1),r=Object(j.a)(t,2),a=r[0],s=r[1],c=function(t,r){var n=Object.keys(e.filters),a=Object(b.a)({},e.filters);""===t?n.forEach((function(t){Object.keys(e.filters[t]).forEach((function(e){a[t][e]=r}))})):Object.keys(e.filters[t]).forEach((function(e){a[t][e]=r})),e.onSelect("filter",a)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c(e,!0)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c(e,!1)},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=Object(b.a)({},e.filters),n=!0;if(""===t){var a=Object.keys(e.filters);a.forEach((function(t){Object.keys(e.filters[t]).forEach((function(e){!0===r[t][e]&&(n=!1)}))}))}else Object.keys(e.filters[t]).forEach((function(e){!0===r[t][e]&&(n=!1)}));return n},u=function(e){l(e)?i(e):o(e)};return Object(x.jsxs)(Ae.a,{className:e.className,children:[Object(x.jsxs)(Te.a,{className:"m-1",variant:"outline-primary",title:"Group by",onSelect:function(t){e.onSelect("group",t)},children:[Object(x.jsx)(Pe.a.Item,{eventKey:"none",children:"None"}),Object(x.jsx)(Pe.a.Item,{eventKey:"category",children:"Category"}),Object(x.jsx)(Pe.a.Item,{eventKey:"status",children:"Status"}),Object(x.jsx)(Pe.a.Item,{eventKey:"priority",children:"Priority"})]}),Object(x.jsxs)(Te.a,{className:"m-1",variant:"outline-primary",title:"Order",onSelect:function(t){e.onSelect("order",t)},children:[Object(x.jsx)(Pe.a.Item,{eventKey:"asc",children:"Ascending"}),Object(x.jsx)(Pe.a.Item,{eventKey:"desc",children:"Desccending"})]}),Object(x.jsx)(Te.a,{show:a,className:"filterDropdown m-1",variant:"outline-primary",title:"Filter",menuAlign:"right",onSelect:function(t){var r=t.split(" "),n=Object(j.a)(r,2),a=n[0],s=n[1],c=Object(b.a)({},e.filters[a]);c[s]=!c[s];var i=Object(b.a)(Object(b.a)({},e.filters),{},Object(st.a)({},a,c));e.onSelect("filter",i)},onToggle:function(e,t,r){"select"!==r.source&&s(e)},children:Object(x.jsxs)("div",{className:"filters",children:[Object(x.jsxs)("div",{className:"dropdown-item-group",children:[Object(x.jsx)(Pe.a.Header,{children:"Category"}),Object(x.jsxs)(Pe.a.Item,{eventKey:"category bug",children:[Object(x.jsx)(ct,{name:"bug",id:"checkbox-bug",checked:e.filters.category.bug}),Object(x.jsx)("label",{htmlFor:"checkbox-bug",children:"Bug"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"category feature",children:[Object(x.jsx)(ct,{name:"feature",id:"checkbox-feature",checked:e.filters.category.feature}),Object(x.jsx)("label",{htmlFor:"checkbox-feature",children:"Feature"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"category task",children:[Object(x.jsx)(ct,{name:"task",id:"checkbox-task",checked:e.filters.category.task}),Object(x.jsx)("label",{htmlFor:"checkbox-task",children:"Task"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"category other",children:[Object(x.jsx)(ct,{name:"other",id:"checkbox-other",checked:e.filters.category.other}),Object(x.jsx)("label",{htmlFor:"checkbox-other",children:"Other"})]}),Object(x.jsx)(Pe.a.ItemText,{onClick:function(){u("category")},children:l()?"All":"Clear"})]}),Object(x.jsxs)("div",{className:"dropdown-item-group",children:[Object(x.jsx)(Pe.a.Header,{children:"Priority"}),Object(x.jsxs)(Pe.a.Item,{eventKey:"priority critical",children:[Object(x.jsx)(ct,{name:"critical",id:"checkbox-critical",checked:e.filters.priority.critical}),Object(x.jsx)("label",{htmlFor:"checkbox-critical",children:"Critical"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"priority high",children:[Object(x.jsx)(ct,{name:"high",id:"checkbox-high",checked:e.filters.priority.high}),Object(x.jsx)("label",{htmlFor:"checkbox-high",children:"High"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"priority regular",children:[Object(x.jsx)(ct,{name:"regular",id:"checkbox-regular",checked:e.filters.priority.regular}),Object(x.jsx)("label",{htmlFor:"checkbox-regular",children:"Regular"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"priority low",children:[Object(x.jsx)(ct,{name:"low",id:"checkbox-low",checked:e.filters.priority.low}),Object(x.jsx)("label",{htmlFor:"checkbox-low",children:"Low"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"priority trivial",children:[Object(x.jsx)(ct,{name:"trivial",id:"checkbox-trivial",checked:e.filters.priority.trivial}),Object(x.jsx)("label",{htmlFor:"checkbox-trivial",children:"Trivial"})]}),Object(x.jsx)(Pe.a.ItemText,{onClick:function(){u("priority")},children:l()?"All":"Clear"})]}),Object(x.jsxs)("div",{className:"dropdown-item-group",children:[Object(x.jsx)(Pe.a.Header,{children:"Status"}),Object(x.jsxs)(Pe.a.Item,{eventKey:"status unassigned",children:[Object(x.jsx)(ct,{name:"unassigned",id:"checkbox-unassigned",checked:e.filters.status.unassigned}),Object(x.jsx)("label",{htmlFor:"checkbox-unassigned",children:"Unassigned"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"status open",children:[Object(x.jsx)(ct,{name:"open",id:"checkbox-open",checked:e.filters.status.open}),Object(x.jsx)("label",{htmlFor:"checkbox-open",children:"Open"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"status inprogress",children:[Object(x.jsx)(ct,{name:"inprogress",id:"checkbox-inprogress",checked:e.filters.status.inprogress}),Object(x.jsx)("label",{htmlFor:"checkbox-inprogress",children:"In-progress"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"status resolved",children:[Object(x.jsx)(ct,{name:"resolved",id:"checkbox-resolved",checked:e.filters.status.resolved}),Object(x.jsx)("label",{htmlFor:"checkbox-resolved",children:"Resolved"})]}),Object(x.jsxs)(Pe.a.Item,{eventKey:"status closed",children:[Object(x.jsx)(ct,{name:"closed",id:"checkbox-closed",checked:e.filters.status.closed}),Object(x.jsx)("label",{htmlFor:"checkbox-closed",children:"Closed"})]}),Object(x.jsx)(Pe.a.ItemText,{onClick:function(){u("status")},children:l()?"All":"Clear"})]}),Object(x.jsx)(Pe.a.ItemText,{onClick:function(){l()?i():o()},children:l()?"Check All":"Clear All"})]})})]})},ot=r(307),lt=(r(288),["onEdit","name","isEditing"]),ut=function(e,t){return function(r){var a=r.onEdit,s=r.name,c=r.isEditing,i=void 0!==c&&c,o=Object(z.a)(r,lt),l=Object(n.useState)(i),u=Object(j.a)(l,2),d=u[0],h=u[1],m=Object(n.useState)(o.value),p=Object(j.a)(m,2),f=p[0],O=p[1],v=Object(n.useRef)();Object(n.useEffect)((function(){v&&v.current&&v.current.focus()}),[d,i]);var g=function(e){"Enter"===e.key&&w(e)},y=function(e){O(e.target.value)},w=function(e){e.preventDefault(),a(Object(st.a)({},v.current.name,f)),h(!1)};return d?Object(x.jsx)(ie.a,{xs:o.xs,sm:o.sm,md:o.md,lg:o.lg,children:Object(x.jsx)("form",{onBlur:function(){o.onBlur&&o.onBlur()||h(!1)},onSubmit:w,children:"text"===t?Object(x.jsx)("input",{ref:v,name:s,type:t,defaultValue:f,onChange:y}):"textarea"===t?Object(x.jsx)("textarea",{ref:v,name:s,defaultValue:f,rows:5,cols:75,onChange:y,onKeyPress:g}):"select"===t?Object(x.jsx)("select",{ref:v,name:s,defaultValue:f,onChange:y,onKeyPress:g,children:o.options&&o.options.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))}):null})}):Object(x.jsx)("div",{className:"component-wrapper",children:Object(x.jsx)(e,Object(b.a)(Object(b.a)({},o),{},{onClick:function(){i||h(!0)},children:o.children}))})}},dt=function(e){var t=function(e,t,r){for(var n=0,a=0;n<r&&a>=0;)a=e.indexOf(t,a+1),n++;return a}(e," ",5);return e.slice(0,t)},jt=r.p+"static/media/edit-icon-png-small.4aeb2e4d.png",bt={width:"50vw",height:"100%",margin:"1em"},ht=a.a.forwardRef((function(e,t){var r=e.onClick;return Object(x.jsx)("img",{alt:"",src:jt,width:"25",height:"25",ref:t,onClick:r})}));var mt=function(e){var t=Object(n.useState)(null),r=Object(j.a)(t,2),a=r[0],s=r[1],c=ut(ie.a,"textarea"),i=function(e){s(e)},o=function(t){e.onEdit(a,t),s(null)};return Object(x.jsx)(Se,{listItems:e.comments,render:function(t){return Object(x.jsxs)(ce.a,{style:bt,children:[Object(x.jsx)(ie.a,{lg:11,md:11,sm:10,xs:9,children:"Posted By: "+t.creator+" on "+dt(new Date(t.created_at).toString())}),Object(x.jsx)(ie.a,{lg:1,md:1,sm:2,xs:3,children:Object(x.jsxs)(Pe.a,{onSelect:function(r){return n=r,a=t.id,"delete"===n?e.onDelete({commentId:a}):"edit"===n?i(a):void 0;var n,a},children:[Object(x.jsx)(Pe.a.Toggle,{as:ht}),Object(x.jsxs)(Pe.a.Menu,{children:[Object(x.jsx)(Pe.a.Item,{eventKey:"edit",children:"Edit"}),Object(x.jsx)(Pe.a.Item,{eventKey:"delete",children:"Delete"})]})]})}),Object(x.jsx)(c,{lg:11,md:11,sm:11,xs:11,name:"body",value:t.body,isEditing:a===t.id,onEdit:o,onBlur:function(){return s(null)},children:t.body})]},t.id)}})},pt=r(306);var ft=function(e){var t=e.show,r=e.heading,n=e.closeButtonText,a=e.submitButtonText,s=e.onSubmit,c=e.onClose,i=e.render,o=e.renderData,l=e.formId,u=void 0===l?null:l;return Object(x.jsxs)(pt.a,{show:t,onHide:c,children:[Object(x.jsx)(pt.a.Header,{closeButton:!0,children:Object(x.jsx)(pt.a.Title,{children:r||""})}),Object(x.jsx)(pt.a.Body,{children:i({data:o})}),Object(x.jsxs)(pt.a.Footer,{children:[Object(x.jsx)(Q.a,{variant:"secondary",onClick:c,children:n||"Close"}),Object(x.jsx)(Q.a,{variant:"primary",type:"submit",form:u,onClick:s,children:a||"Submit"})]})]})};var xt=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)({}),c=Object(j.a)(s,2),i=c[0],o=c[1],l=function(){a(!1)};return{show:function(e){o(e),a(!0)},RenderDialogBox:function(e){return Object(x.jsx)(ft,Object(b.a)(Object(b.a)({},e),{},{onSubmit:function(t){var r=t;r.preventDefault();var n=r.target.form&&function(e){if(0===e.length)return{};var t={};return e.forEach((function(e){t[e.name]=e.value})),t}(r.target.form.childNodes);"function"===typeof e.onSubmit&&e.onSubmit({data:i,values:n}),l()},show:r,renderData:i,onClose:l}))}}},Ot=(r(289),["title","linkUrl"]);var vt=function(e){var t=e.title,r=e.linkUrl,n=Object(z.a)(e,Ot);return Object(x.jsx)(te,Object(b.a)(Object(b.a)({title:"Issue: "+t},n),{},{bg:"light",sticky:"top",render:function(){return Object(x.jsxs)(X.a,{children:[n.render&&"function"===typeof n.render&&n.render(),Object(x.jsx)(Z,{variant:"outline-dark",to:r?r+"/new":"./new",children:"Add New Issue"})]})}}))};r(290);var gt=function(e){var t=Object(n.useState)(!1),r=Object(j.a)(t,2),a=r[0],s=r[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("ul",{className:"attachments-list",children:function(){var t=[];return e.attachments&&e.attachments.forEach((function(r,n){t.push(Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{children:r.filename})," ",Object(x.jsx)("a",{href:r.data,download:r.filename,children:"Download"})," ",Object(x.jsx)("button",{className:"link",onClick:function(){return e.onDelete(r.id)},children:"Remove"})]},"attachment-".concat(n)))})),t}()}),a?Object(x.jsx)(Je,{sendRequest:e.onCreate,onComplete:e.onComplete,onClose:function(){s(!1)}}):Object(x.jsx)("button",{className:"link",onClick:function(){s(!0)},children:"Add Attachment"})]})};r(291);var yt=function(e){return Object(x.jsx)(se.d,{initialValues:{title:e.initialTitle,description:e.initialDescription,category:e.initialCategory,priority:e.initialPriority},onSubmit:function(t){e.onSubmit(t)},validationSchema:be,children:function(){return Object(x.jsxs)(se.c,{id:"edit-issue-form",children:[Object(x.jsx)(ce.a,{className:"justify-content-center title",children:Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"title",type:"text",className:"form-input"}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"title"})})]})}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:Object(x.jsx)("label",{htmlFor:"description",children:"Description"})}),Object(x.jsxs)(ie.a,{lg:6,md:6,sm:6,xs:6,children:[Object(x.jsx)(se.b,{name:"description",as:"textarea",className:"form-input"}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"description",className:"form-error"})})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:Object(x.jsx)("label",{htmlFor:"category",children:"Category"})}),Object(x.jsxs)(ie.a,{lg:6,md:6,sm:6,xs:6,children:[Object(x.jsxs)(se.b,{name:"category",as:"select",className:"form-input",children:[Object(x.jsx)("option",{value:"bug",children:"Bug"}),Object(x.jsx)("option",{value:"feature",children:"Feature"}),Object(x.jsx)("option",{value:"task",children:"Task"}),Object(x.jsx)("option",{value:"other",children:"Other"})]}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"category",className:"form-error"})})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:Object(x.jsx)("label",{htmlFor:"priority",children:"Priority"})}),Object(x.jsxs)(ie.a,{lg:6,md:6,sm:6,xs:6,children:[Object(x.jsxs)(se.b,{name:"priority",as:"select",className:"form-input",children:[Object(x.jsx)("option",{value:"trivial",children:"Trivial"}),Object(x.jsx)("option",{value:"low",children:"Low"}),Object(x.jsx)("option",{value:"regular",children:"Regular"}),Object(x.jsx)("option",{value:"high",children:"High"}),Object(x.jsx)("option",{value:"critical",children:"Critical"})]}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"priority",className:"form-error"})})]})]})]})}})},wt=["issue","onEdit"];var kt=function(e){var t=e.issue,r=e.onEdit,a=Object(z.a)(e,wt),s=g(),c=y("http://localhost:3001/api/projects/".concat(a.match.params.projectId,"/issues/").concat(a.match.params.issueId,"/attachments"),s.user?s.user.token:null,t.attachmentHandles),i=Object(j.a)(c,3),o=i[0],l=(i[1],i[2]),h=y("http://localhost:3001/api/projects/".concat(a.match.params.projectId,"/issues/").concat(a.match.params.issueId,"/comments"),s.user?s.user.token:null),m=Object(j.a)(h,2),p=m[0],f=m[1],O=Object(n.useState)(!1),v=Object(j.a)(O,2),w=v[0],k=v[1],N=xt(),I=N.show,S=N.RenderDialogBox,C=ut(ie.a,"select"),A=function(){var e=Object(d.a)(u.a.mark((function e(n){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in n)n[s]===t[s]&&delete n[s];return e.next=3,r(a.match.params.projectId,t.id,n);case 3:k(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=r.target[1].value,e.next=4,L.addComment(a.match.params.projectId,t.id,n,s.user.token);case 4:c=e.sent,f((function(e){var t=e.data.slice();return t.push(c),Object(b.a)(Object(b.a)({},e),{},{data:t})})),document.querySelector("textarea#comment").value="";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.data,console.log("Deleting comment",n),e.next=4,L.deleteComment(a.match.params.projectId,t.id,n.commentId,s.user.token);case 4:f((function(e){var t=e.data.slice(),r=t.findIndex((function(e){return e.id===n.commentId}));return-1!==r&&t.splice(r,1),Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(r,n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.updateComment(a.match.params.projectId,t.id,r,n.body,s.user.token);case 2:c=e.sent,f((function(e){var t=e.data.slice(),n=t.findIndex((function(e){return e.id===r}));return t[n]=c,Object(b.a)(Object(b.a)({},e),{},{data:t})}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),E="unassigned"===t.status?"Assign Issue":"open"===t.status?"Advance Issue":"inprogress"===t.status?"Close Issue":t.status;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(vt,{title:t.title,render:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Q.a,{className:"stick-left",onClick:function(){a.history.goBack()},children:"Back to All Issues"}),w&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Q.a,{variant:"outline-dark",className:"mx-1",form:"edit-issue-form",type:"submit",children:"Save"}),Object(x.jsx)(Q.a,{variant:"outline-dark",className:"mx-1",onClick:function(){return k(!1)},children:"Cancel"})]}),!w&&Object(x.jsx)(Q.a,{variant:"outline-dark",className:"mx-1",onClick:function(){k(!0)},children:"Edit"})]})}}),Object(x.jsxs)(ae.a,{className:"IssueDetails",fluid:!0,children:[Object(x.jsx)(S,{heading:"Delete Project",closeButtonText:"Cancel",submitButtonText:"Delete",onSubmit:P,render:function(e){return"Are you sure you would like to delete this comment: "+e.data.commentId+"?"}}),w?Object(x.jsx)(yt,{initialTitle:t.title,initialDescription:t.description,initialCategory:t.category,initialPriority:t.priority,onSubmit:A}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{className:"justify-content-center title",children:Object(x.jsx)("h3",{children:t.title})}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Description"}),Object(x.jsx)(ie.a,{as:"p",lg:6,md:6,sm:6,xs:6,name:"description",children:t.description})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Category"}),Object(x.jsx)(C,{as:"p",lg:6,md:6,sm:6,xs:6,value:t.category,name:"category",onEdit:A,options:["bug","feature","task","other"],children:t.category})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Priority"}),Object(x.jsx)(C,{as:"p",lg:6,md:6,sm:6,xs:6,value:t.priority,name:"priority",onEdit:A,options:["critical","high","regular","low","trivial"],children:t.priority})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Status"}),Object(x.jsxs)(ie.a,{as:"p",lg:6,md:6,sm:6,xs:6,children:[t.status,Object(x.jsx)(Q.a,{className:"mx-1",size:"sm",hidden:"resolved"===t.status||"closed"===t.status,onClick:function(){return"unassigned"===t.status?a.onAssign({projectId:a.match.params.projectId,issueId:t.id}):"open"===t.status?a.onStart({projectId:a.match.params.projectId,issueId:t.id}):a.onClose({projectId:a.match.params.projectId,issueId:t.id})},children:E})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Created on"}),Object(x.jsx)(ie.a,{as:"p",lg:6,md:6,sm:6,xs:6,children:dt(new Date(t.created_at).toString())})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Created by"}),Object(x.jsx)(ie.a,{as:"p",lg:6,md:6,sm:6,xs:6,children:t.creator})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Assigned to"}),Object(x.jsx)(ie.a,{as:"p",lg:6,md:6,sm:6,xs:6,children:t.assignee?t.assignee:"Unassigned"})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Assigned on"}),Object(x.jsx)(ie.a,{as:"p",lg:6,md:6,sm:6,xs:6,children:t.opened_at?dt(new Date(t.opened_at).toString()):"N/A"})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Resolved/Closed on"}),Object(x.jsx)(ie.a,{as:"p",lg:6,md:6,sm:6,xs:6,children:t.closed_at?dt(new Date(t.closed_at).toString()):"N/A"})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Attachments"}),Object(x.jsx)(ie.a,{lg:6,md:6,sm:6,xs:6,id:"attachments-content",children:Object(x.jsx)(gt,{attachments:o.data,onCreate:function(e,r){return a.onCreateAttachmentRequest(a.match.params.projectId,t.id,e,r)},onComplete:function(e){console.log(e),a.onAddAttachment(a.match.params.projectId,t.id,e),l()}})})]}),Object(x.jsx)(Z,{to:"".concat(t.id,"/log"),className:"my-3",children:"View Issue Log"}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:Object(x.jsx)(Q.a,{variant:"outline-primary",type:"submit",form:"add-comment",children:"Add Comment"})}),Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:Object(x.jsx)(ot.a,{id:"add-comment",onSubmit:T,children:Object(x.jsx)(ot.a.Group,{controlId:"comment",children:Object(x.jsx)(ot.a.Control,{as:"textarea",placeholder:"Enter comment"})})})})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:4,md:4,sm:4,xs:4,children:"Comments"}),Object(x.jsx)(mt,{comments:p.data,onEdit:D,onDelete:I})]})]})]})};function Nt(e){localStorage.setItem("list_filter_params",JSON.stringify(e))}var It=function(e){var t=Object(n.useState)(e),r=Object(j.a)(t,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("list_filter_params"));t?s(t):Nt(e)}),[]),Object(n.useEffect)((function(){Nt(a)}),[a]),[a,function(e,t){s((function(r){return Object(b.a)(Object(b.a)({},r),{},Object(st.a)({},e,t))}))}]};var St=function(e){var t=e.formId,r=e.fieldName,n=e.selectItems,a=e.itemKey,s=e.initialValues,c=e.onSubmit,i=n.map((function(e,t){return Object(x.jsx)("option",{id:"option".concat(t),value:e.id,children:e[a]},"option".concat(t))}));return Object(x.jsx)(se.d,{initialValues:s,onSubmit:c,children:function(){return Object(x.jsx)(se.c,{id:t,children:Object(x.jsx)(se.b,{name:r,as:"select",children:i})})}})},Ct=r(146);var At=function(e){return Object(x.jsxs)(ot.a,{inline:!0,noValidate:!0,onSubmit:function(t){t.preventDefault(),e.onSubmit(t.target.firstChild.value)},className:e.className,children:[Object(x.jsx)(Ct.a,{type:"text",name:"search",placeholder:"Search",className:"mr-sm-2"}),Object(x.jsx)(Q.a,{type:"submit",variant:"outline-info",children:"Search"})]})},Tt=r(305),Pt=["radioValue","onSelect"];var Dt=function(e){var t=e.radioValue,r=e.onSelect,n=Object(z.a)(e,Pt);return Object(x.jsx)(Ae.a,{toggle:!0,className:"mx-2",children:n.radios&&n.radios.map((function(e,n){return Object(x.jsx)(Tt.a,{type:"radio",variant:"secondary",name:"radio",value:e.value,checked:t===e.value,onChange:function(e){return r(e.currentTarget.value)},children:e.name},n)}))})},Et=r(15),Bt=r(16),Ft=function(){function e(t){Object(Et.a)(this,e),this.collaborators=t}return Object(Bt.a)(e,[{key:"get",value:function(e){if(0!==this.collaborators.length)return this.collaborators.find((function(t){return t.id===e}))}}]),e}(),Lt=function(e,t,r,n,a){var s="";switch(e){case"INSERT":s+=t.userName,s+=" created this issue - ",s+=r;break;case"UPDATE":s+=t.userName;var c,i=function(e,t){for(var r=JSON.parse(e),n=JSON.parse(t),a={},s=0,c=Object.keys(r);s<c.length;s++){var i=c[s];r[i]!==n[i]&&(a[i]={oldData:r[i],newData:n[i]})}return a}(n,a),o=Object.keys(i).filter((function(e){return"assigneeId"!==e||"creatorId"!==e})),l=0,u=Object(we.a)(o);try{for(u.s();!(c=u.n()).done;){var d=c.value;s+="assignee"===d?" assigned this issue ":" changed the "+d+" of this issue",s+=" to '"+i[d].newData+"'",s+=++l<o.length?" and ":""}}catch(j){u.e(j)}finally{u.f()}s+=" - "+r;break;case"DELETE":s+=t.userName,s+=" deleted this issue - ",s+=r}return s};var Rt=function(e){var t=g(),r=y("http://localhost:3001/api/projects/".concat(e.match.params.projectId,"/issues/").concat(e.match.params.issueId,"/reports"),t.user?t.user.token:null),n=Object(j.a)(r,1)[0];return Object(x.jsx)(ae.a,{fluid:!0,children:Object(x.jsx)(Se,{listItems:n.data,render:function(t){if(!t||!e.collaborators||0===e.collaborators.length)return null;var r=dt(new Date(t.createdAt).toString()),n=new Ft(e.collaborators).get(t.createdBy),a=Lt(t.action,n,r,t.oldData,t.newData);return Object(x.jsx)("div",{children:a})}})})},Kt=["issues"],qt={category:{bug:!0,feature:!0,task:!0,other:!0},priority:{critical:!0,high:!0,regular:!0,low:!0,trivial:!0},status:{unassigned:!0,open:!0,inprogress:!0,resolved:!0,closed:!0}};var Vt=function(e){var t=e.issues,r=Object(z.a)(e,Kt),a=g(),s=Ke(),c=y("http://localhost:3001/api/projects/".concat(r.match.params.projectId,"/collaborators"),a.user?a.user.token:null),i=Object(j.a)(c,1)[0],l=xt(),h=l.show,m=l.RenderDialogBox,p=xt(),f=p.show,O=p.RenderDialogBox,v=xt(),w=v.show,k=v.RenderDialogBox,N=xt(),I=N.show,S=N.RenderDialogBox,C=It({order:"desc",group:"category",filter:qt,search:""}),A=Object(j.a)(C,2),T=A[0],P=A[1],D=Object(n.useState)("1"),E=Object(j.a)(D,2),B=E[0],F=E[1],L=function(e){F(e)},R=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,r.onDelete(n.projectId,n.issueId);case 3:s.showNotificationWithText("Issue Successfully Deleted!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,a=t.values,e.next=3,r.onAssign(n.projectId,n.issueId,a.collaboratorId);case 3:s.showNotificationWithText("Issue Successfully Assigned!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,r.onStart(n.projectId,n.issueId);case 3:s.showNotificationWithText("Issue Successfully Advanced to In-Progress!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,a=t.values,e.next=3,r.onClose(n.projectId,n.issueId,a.status);case 3:s.showNotificationWithText("Issue Completed!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m,{heading:"Delete Issue",submitButtonText:"Delete",onSubmit:R,render:function(e){return"Are you sure you would like to delete issue "+e.data.issueId}}),Object(x.jsx)(O,{heading:"Assign Issue",submitButtonText:"Assign",formId:"project-collaborators",onSubmit:K,render:function(){return Object(x.jsx)(St,{formId:"project-collaborators",fieldName:"collaboratorId",initialValues:{collaboratorId:""},selectItems:i.data,itemKey:"userName"})}}),Object(x.jsx)(k,{heading:"Begin Issue",submitButtonText:"Advance",onSubmit:q,render:function(e){return"Are you sure you would like to begin issue "+e.data.issueId+'? The status of this issue will be advanced to "inprogress".'}}),Object(x.jsx)(S,{heading:"Complete Issue",submitButtonText:"Complete",formId:"complete-status",onSubmit:V,render:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:"Please select how you would like to complete this issue? "}),Object(x.jsx)(St,{formId:"complete-status",fieldName:"status",initialValues:{status:""},selectItems:[{status:"closed"},{status:"resolved"}],itemKey:"status"})]})}}),Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:r.match.path,exact:!0,render:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Me,{render:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Q.a,{className:"stick-left",variant:"outline-primary",onClick:function(){r.history.push("/projects")},children:"Back to Projects"}),Object(x.jsx)("div",{children:"View style:"}),Object(x.jsx)(Dt,{radioValue:B,radios:[{name:"List",value:"1"},{name:"Table",value:"2"}],onSelect:L}),Object(x.jsx)(At,{className:"search-bar",onSubmit:function(e){P("search",e)}}),Object(x.jsx)(it,{className:"filter-controls",filters:T.filter,onSelect:P})]})}}),Object(x.jsx)(at,{projectId:r.match.params.projectId,collaborators:i.data,issueList:t,viewAs:B,groupBy:T.group,orderBy:T.order,filter:T.filter,searchText:T.search,searchKeys:["title","description"],onDelete:h,onAssign:f,onStart:w,onClose:I})]})}}),Object(x.jsx)(o.b,{path:"".concat(r.match.path,"/:issueId"),exact:!0,render:function(e){var n=t.findIndex((function(t){return t.id===Number(e.match.params.issueId)})),a=-1!==n?t[n]:null;if(a)return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(kt,Object(b.a)(Object(b.a)({},e),{},{issue:a,collaborators:i.data,onEdit:r.onEdit,onDelete:h,onAssign:f,onStart:w,onClose:I,onCreateAttachmentRequest:r.onCreateAttachmentRequest,onAddAttachment:r.onAddAttachment}))})}}),Object(x.jsx)(o.b,{path:"".concat(r.match.path,"/:issueId/log"),exact:!0,render:function(e){var n=t.findIndex((function(t){return t.id===Number(e.match.params.issueId)})),a=-1!==n?t[n]:null,s=e.match.url.split("/");if(s.pop(),s.pop(),a)return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(vt,{title:a.title,linkUrl:s.join("/"),render:function(){return Object(x.jsx)(Q.a,{className:"stick-left",onClick:function(){r.history.goBack()},children:"Back to Issue Details"})}}),Object(x.jsx)(Rt,Object(b.a)({collaborators:i.data},e))]})}})]})]})},Ut=["project"];var _t=function(e){var t=e.project,r=Object(z.a)(e,Ut),n=g(),a=y("http://localhost:3001/api/projects/".concat(r.match.params.projectId,"/collaborators"),n.user?n.user.token:null),s=Object(j.a)(a,1)[0],c=y("http://localhost:3001/api/projects/".concat(r.match.params.projectId,"/reports"),n.user?n.user.token:null),i=Object(j.a)(c,1)[0],o=ut(ie.a,"text"),l=ut(ie.a,"textarea"),b=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.updateProject(r.match.params.projectId,n.user.token,t);case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(ae.a,{fluid:!0,children:[Object(x.jsx)(ce.a,{className:"justify-content-center",children:Object(x.jsx)(o,{as:"h3",value:t.name,name:"name",onEdit:b,children:t.name})}),Object(x.jsx)(ce.a,{className:"justify-content-center",children:Object(x.jsx)(l,{as:"p",value:t.description,name:"description",onEdit:b,children:t.description})}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(ie.a,{as:"h5",children:"Collaborators:"})}),s&&s.data.map((function(e,t){return Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{style:{textAlign:"right"},children:"".concat(e.firstName," ").concat(e.lastName)}),Object(x.jsx)(ie.a,{style:{textAlign:"left"},children:e.userName})]},t)})),Object(x.jsx)(ce.a,{children:Object(x.jsx)(ie.a,{as:"h5",children:"Issues:"})}),Object(x.jsx)(ce.a,{style:{justifyContent:"center"},children:"There are ".concat(t.issues&&t.issues.length," issues related to this project")}),Object(x.jsx)(ce.a,{style:{justifyContent:"center"},children:Object(x.jsx)(ie.a,{as:"h5",children:"Project Log:"})}),Object(x.jsx)(ce.a,{style:{justifyContent:"center"},children:Object(x.jsx)(Se,{listItems:i.data,render:function(e){if(!e||!r.collaborators||0===r.collaborators.length)return null;var t=dt(new Date(e.createdAt).toString()),n=new Ft(s.data),a=n.get(e.createdBy),c=JSON.parse(e.newData||e.oldData).collaboratorId,i=JSON.parse(e.oldData),o=JSON.parse(e.newData),l=n.get(c),u=function(e,t,r,n,a){var s="";switch(e){case"INSERT_ISSUE":s+=t.userName,s+=" created an issue (#",s+=a.newData.issueId,s+=") for this project - ";break;case"RESOLVE_ISSUE":s+=t.userName,s+=" resolved an issue (#",s+=a.newData.issueId,s+=") for this project - ";break;case"DELETE_ISSUE":s+=t.userName,s+=" deleted an issue (#",s+=a.oldData.issueId,s+=") for this project - ";break;case"UPDATE":s+=t.userName,s+=" updated the details of this project - ";break;case"ADD_COLLAB":s+=t.userName,s+=" added ",s+=r.userName,s+=" to this project - ";break;case"REMOVE_COLLAB":s+=t.userName,s+=" removed ",s+=r.userName,s+=" from this project - ";break;case"INSERT":s+=t.userName,s+=" created this project - ";break;case"DELETE":s+=t.userName,s+=" deleted this project - "}return s+n}(e.action,a,l,t,{oldData:i,newData:o});return Object(x.jsx)("div",{children:u})}})}),Object(x.jsx)(ce.a,{})]})};var Ht=function(e){var t=e.match,r=g(),a=Object(n.useContext)(J),s=Ke(),c=y("http://localhost:3001/api/user/all",r.user?r.user.token:null),i=Object(j.a)(c,1)[0],l=xt(),h=l.show,m=l.RenderDialogBox,p=xt(),f=p.show,O=p.RenderDialogBox;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m,{heading:"Delete Project",closeButtonText:"Cancel",submitButtonText:"Delete",onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.handleDeleteProject(t);case 2:s.showNotificationWithText("Project Successfully Deleted!");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),render:function(e){return"Are you sure you would like to delete project with id "+e.data.projectId+"?"}}),Object(x.jsx)(O,{heading:"Add Collaborator",submitButtonText:"Add",formId:"collaborator-select-form",onSubmit:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.handleAddCollaborator(t);case 2:s.showNotificationWithText("Collaborator Successfully Added to Project!");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),render:function(){return Object(x.jsx)(St,{formId:"collaborator-select-form",fieldName:"collaboratorId",initialValues:{collaboratorId:""},selectItems:i.data,itemKey:"userName"})}}),Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:t.url,exact:!0,render:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ve,{}),Object(x.jsx)(Be,{projectList:a.data,onDelete:h,onEdit:a.handleEditProject,onAddCollaborator:f})]})}}),Object(x.jsx)(o.b,{path:"".concat(t.url,"/:projectId/issues/new"),exact:!0,render:function(e){return Object(x.jsx)(ze,Object(b.a)(Object(b.a)({},e),{},{onSubmit:a.handleCreateIssue,onCreateAttachmentRequest:a.handleIssueAttachmentRequest,onAddAttachment:a.addIssueAttachmentHandles}))}}),Object(x.jsx)(o.b,{path:"".concat(t.url,"/:projectId/issues"),render:function(e){var t=a.data.findIndex((function(t){return t.id===Number(e.match.params.projectId)})),r=-1!==t?a.data[t].issues:[];return Object(x.jsx)(Vt,Object(b.a)(Object(b.a)({},e),{},{issues:r,onDelete:a.handleDeleteIssue,onAssign:a.handleAssignIssue,onStart:a.handleStartIssue,onClose:a.handleCloseIssue,onEdit:a.handleEditIssue,onCreateAttachmentRequest:a.handleIssueAttachmentRequest,onAddAttachment:a.addIssueAttachmentHandles}))}}),Object(x.jsx)(o.b,{path:"".concat(t.url,"/new"),exact:!0,render:function(e){return Object(x.jsx)(qe,Object(b.a)(Object(b.a)({},e),{},{onSubmit:a.handleAddProject}))}}),Object(x.jsx)(o.b,{path:"".concat(t.url,"/:projectId/"),exact:!0,render:function(e){var t=a.data.find((function(t){return t.id===Number(e.match.params.projectId)}));if(t)return Object(x.jsx)(_t,Object(b.a)({project:t},e))}})]})]})};r(292);function Jt(e){return Object(x.jsxs)("div",{className:"user-info",children:[Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:6,md:6,s:4,xs:12,className:"label",children:"First Name: "}),Object(x.jsx)(ie.a,{lg:6,md:6,s:8,xs:12,className:"user-detail",children:e.user.firstName})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:6,md:6,s:4,xs:12,className:"label",children:"Last Name: "}),Object(x.jsx)(ie.a,{lg:6,md:6,s:8,xs:12,className:"user-detail",children:e.user.lastName})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:6,md:6,s:4,xs:12,className:"label",children:"User Name: "}),Object(x.jsx)(ie.a,{lg:6,md:6,s:8,xs:12,className:"user-detail",children:e.user.userName})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{lg:6,md:6,s:4,xs:12,className:"label",children:"Email: "}),Object(x.jsx)(ie.a,{lg:6,md:6,s:8,xs:12,className:"user-detail",children:e.user.email})]})]})}r(293);function Wt(e){return Object(x.jsx)(se.d,{initialValues:{currentPassword:"",newPassword:"",confirmNewPassword:""},onSubmit:function(){var t=Object(d.a)(u.a.mark((function t(r,n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=n.setSubmitting)(!0),t.next=4,e.onSubmit(r.currentPassword,r.newPassword);case 4:a(!1);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),validationSchema:de,children:function(t){var r=t.isSubmitting;return Object(x.jsxs)(se.c,{className:"form",children:[Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"currentPassword",children:"Current Password"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"currentPassword",type:"password",autoComplete:"new-password"}),Object(x.jsxs)("span",{className:"form-error",children:[e.error&&Object(x.jsx)("div",{children:e.error.message}),Object(x.jsx)(se.a,{name:"currentPassword"})]})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"newPassword",children:"New Password"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"newPassword",type:"password",autoComplete:"new-password"}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"newPassword"})})]})]}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)("label",{htmlFor:"confirmNewPassword",children:"Confirm New Password"})}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(se.b,{name:"confirmNewPassword",type:"password",autoComplete:"off"}),Object(x.jsx)("span",{className:"form-error",children:Object(x.jsx)(se.a,{name:"confirmNewPassword"})})]})]}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(Q.a,{variant:"primary",type:"submit",disabled:r,children:"Submit"})})]})}})}function zt(e){var t=g(),r=function(){var r=Object(d.a)(u.a.mark((function r(n,a){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.changePassword(n,a,function(){var r=Object(d.a)(u.a.mark((function r(n){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=5;break}return r.next=3,t.logout((function(){return e.history.push("/dashboard")}));case 3:r.next=6;break;case 5:console.log(n);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();return Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:e.match.url,exact:!0,render:function(){return Object(x.jsxs)(ae.a,{fluid:!0,className:"page",id:"user-account",children:[Object(x.jsx)(ce.a,{as:"h4",children:"Account Information"}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(Jt,{user:t.user})}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)("div",{children:"To change your password, click\xa0"}),Object(x.jsx)(i.b,{to:"account/changePassword",children:"here"}),"."]})]})}}),Object(x.jsx)(o.b,{path:e.match.url+"/changePassword",exact:!0,render:function(){return Object(x.jsxs)(ae.a,{fluid:!0,className:"page",id:"change-password",children:[Object(x.jsx)("div",{children:" Change Password "}),Object(x.jsx)(Wt,{onSubmit:r,error:t.error})]})}})]})}r(294);function Mt(e){var t=Ke();return Object(x.jsx)("div",{className:"notification-banner-container "+(t.show?"show":""),children:Object(x.jsx)("div",{className:"notification-banner",children:t.text})})}var Gt=function(){return Object(x.jsx)(i.a,{children:Object(x.jsx)(v,{children:Object(x.jsx)(W,{children:Object(x.jsxs)(Re,{children:[Object(x.jsx)(Mt,{}),Object(x.jsx)(ne,{}),Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{path:"/login",component:pe}),Object(x.jsx)(o.b,{path:"/signup",component:xe}),Object(x.jsx)(G,{path:"/dashboard",component:Oe}),Object(x.jsx)(G,{path:"/projects",component:Ht}),Object(x.jsx)(G,{path:"/account",component:zt}),Object(x.jsx)(o.b,{path:"/",children:Object(x.jsx)("div",{children:"Home"})})]})]})})})})};var Xt=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(Gt,{})})},Qt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,312)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(Xt,{})}),document.getElementById("root")),Qt()}},[[295,1,2]]]);
//# sourceMappingURL=main.02b6f3da.chunk.js.map